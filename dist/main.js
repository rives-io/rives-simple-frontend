var n0=Object.defineProperty;var E=(e,t)=>()=>(e&&(t=e(e=0)),t);var su=(e,t)=>{for(var r in t)n0(e,r,{get:t[r],enumerable:!0})};var ap,cp=E(()=>{ap="1.0.8"});var fe,An=E(()=>{cp();fe=class e extends Error{constructor(t,r={}){let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,o=r.cause instanceof e&&r.cause.docsPath||r.docsPath,s=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${ap}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.shortMessage=t}}});function qe(e,t){return e.exec(t)?.groups}var iu,au,oi,Yo=E(()=>{iu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,au=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,oi=/^\(.+?\).*?$/});function si(e){let t=e.type;if(up.test(e.type)&&"components"in e){t="(";let r=e.components.length;for(let o=0;o<r;o++){let s=e.components[o];t+=si(s),o<r-1&&(t+=", ")}let n=qe(up,e.type);return t+=`)${n?.array??""}`,si({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}var up,fp=E(()=>{Yo();up=/^tuple(?<array>(\[(\d*)\])*)$/});function Tn(e){let t="",r=e.length;for(let n=0;n<r;n++){let o=e[n];t+=si(o),n!==r-1&&(t+=", ")}return t}var pp=E(()=>{fp()});function Ur(e){return e.type==="function"?`function ${e.name}(${Tn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Tn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Tn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Tn(e.inputs)})`:e.type==="constructor"?`constructor(${Tn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var mp=E(()=>{pp()});function lp(e){return dp.test(e)}function hp(e){return qe(dp,e)}function yp(e){return xp.test(e)}function bp(e){return qe(xp,e)}function wp(e){return gp.test(e)}function vp(e){return qe(gp,e)}function nr(e){return Ep.test(e)}function Ap(e){return qe(Ep,e)}function Ip(e){return Tp.test(e)}function Bp(e){return qe(Tp,e)}function Sp(e){return Pp.test(e)}function kp(e){return qe(Pp,e)}function Cp(e){return o0.test(e)}var dp,xp,gp,Ep,Tp,Pp,o0,cu,Rp,ii,In=E(()=>{Yo();dp=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;xp=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;gp=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;Ep=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;Tp=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;Pp=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;o0=/^receive\(\) external payable$/;cu=new Set(["memory","indexed","storage","calldata"]),Rp=new Set(["indexed"]),ii=new Set(["calldata","memory","storage"])});var Jo,Xo,ai,ci=E(()=>{An();Jo=class extends fe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},Xo=class extends fe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},ai=class extends fe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var Qo,es,ts,rs,ns,os,ui=E(()=>{An();Qo=class extends fe{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},es=class extends fe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},ts=class extends fe{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},rs=class extends fe{constructor({param:t,type:r,modifier:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},ns=class extends fe{constructor({param:t,type:r,modifier:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},os=class extends fe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var it,ss,is,uu=E(()=>{An();it=class extends fe{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},ss=class extends fe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},is=class extends fe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var as,Mp=E(()=>{An();as=class extends fe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var cs,Np=E(()=>{An();cs=class extends fe{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function $p(e,t,r){let n="";if(r)for(let o of Object.entries(r)){if(!o)continue;let s="";for(let i of o[1])s+=`[${i.type}${i.name?`:${i.name}`:""}]`;n+=`(${o[0]}{${s}})`}return t?`${t}:${e}${n}`:e}var fi,zp=E(()=>{fi=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function us(e,t={}){if(wp(e))return s0(e,t);if(yp(e))return i0(e,t);if(lp(e))return a0(e,t);if(Ip(e))return c0(e,t);if(Sp(e))return u0(e);if(Cp(e))return{type:"receive",stateMutability:"payable"};throw new ss({signature:e})}function s0(e,t={}){let r=vp(e);if(!r)throw new it({signature:e,type:"function"});let n=Oe(r.parameters),o=[],s=n.length;for(let a=0;a<s;a++)o.push(at(n[a],{modifiers:ii,structs:t,type:"function"}));let i=[];if(r.returns){let a=Oe(r.returns),c=a.length;for(let u=0;u<c;u++)i.push(at(a[u],{modifiers:ii,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:o,outputs:i}}function i0(e,t={}){let r=bp(e);if(!r)throw new it({signature:e,type:"event"});let n=Oe(r.parameters),o=[],s=n.length;for(let i=0;i<s;i++)o.push(at(n[i],{modifiers:Rp,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:o}}function a0(e,t={}){let r=hp(e);if(!r)throw new it({signature:e,type:"error"});let n=Oe(r.parameters),o=[],s=n.length;for(let i=0;i<s;i++)o.push(at(n[i],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:o}}function c0(e,t={}){let r=Bp(e);if(!r)throw new it({signature:e,type:"constructor"});let n=Oe(r.parameters),o=[],s=n.length;for(let i=0;i<s;i++)o.push(at(n[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:o}}function u0(e){let t=kp(e);if(!t)throw new it({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}function at(e,t){let r=$p(e,t?.type,t?.structs);if(fi.has(r))return fi.get(r);let n=oi.test(e),o=qe(n?p0:f0,e);if(!o)throw new es({param:e});if(o.name&&l0(o.name))throw new ts({param:e,name:o.name});let s=o.name?{name:o.name}:{},i=o.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{},c,u={};if(n){c="tuple";let m=Oe(o.type),f=[],d=m.length;for(let y=0;y<d;y++)f.push(at(m[y],{structs:a}));u={components:f}}else if(o.type in a)c="tuple",u={components:a[o.type]};else if(m0.test(o.type))c=`${o.type}256`;else if(c=o.type,t?.type!=="struct"&&!fu(c))throw new ai({type:c});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new rs({param:e,type:t?.type,modifier:o.modifier});if(ii.has(o.modifier)&&!h0(c,!!o.array))throw new ns({param:e,type:t?.type,modifier:o.modifier})}let p={type:`${c}${o.array??""}`,...s,...i,...u};return fi.set(r,p),p}function Oe(e,t=[],r="",n=0){let o=e.trim().length;for(let s=0;s<o;s++){let i=e[s],a=e.slice(s+1);switch(i){case",":return n===0?Oe(a,[...t,r.trim()]):Oe(a,t,`${r}${i}`,n);case"(":return Oe(a,t,`${r}${i}`,n+1);case")":return Oe(a,t,`${r}${i}`,n-1);default:return Oe(a,t,`${r}${i}`,n)}}if(r==="")return t;if(n!==0)throw new cs({current:r,depth:n});return t.push(r.trim()),t}function fu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||iu.test(e)||au.test(e)}function l0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||iu.test(e)||au.test(e)||d0.test(e)}function h0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}var f0,p0,m0,d0,Bn=E(()=>{Yo();ci();ui();uu();Np();zp();In();f0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m0=/^u?int$/;d0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function Pn(e){let t={},r=e.length;for(let i=0;i<r;i++){let a=e[i];if(!nr(a))continue;let c=Ap(a);if(!c)throw new it({signature:a,type:"struct"});let u=c.properties.split(";"),p=[],m=u.length;for(let f=0;f<m;f++){let y=u[f].trim();if(!y)continue;let b=at(y,{type:"struct"});p.push(b)}if(!p.length)throw new is({signature:a});t[c.name]=p}let n={},o=Object.entries(t),s=o.length;for(let i=0;i<s;i++){let[a,c]=o[i];n[a]=Op(c,t)}return n}function Op(e,t,r=new Set){let n=[],o=e.length;for(let s=0;s<o;s++){let i=e[s];if(oi.test(i.type))n.push(i);else{let c=qe(x0,i.type);if(!c?.type)throw new os({abiParameter:i});let{array:u,type:p}=c;if(p in t){if(r.has(p))throw new as({type:p});n.push({...i,type:`tuple${u??""}`,components:Op(t[p]??[],t,new Set([...r,p]))})}else if(fu(p))n.push(i);else throw new Xo({type:p})}}return n}var x0,pi=E(()=>{Yo();ci();ui();uu();Mp();In();Bn();x0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/});function Lr(e){let t=Pn(e),r=[],n=e.length;for(let o=0;o<n;o++){let s=e[o];nr(s)||r.push(us(s,t))}return r}var Fp=E(()=>{In();pi();Bn()});function fs(e){let t;if(typeof e=="string")t=us(e);else{let r=Pn(e),n=e.length;for(let o=0;o<n;o++){let s=e[o];if(!nr(s)){t=us(s,r);break}}}if(!t)throw new Jo({signature:e});return t}var Hp=E(()=>{ci();In();pi();Bn()});function mi(e){let t=[];if(typeof e=="string"){let r=Oe(e),n=r.length;for(let o=0;o<n;o++)t.push(at(r[o],{modifiers:cu}))}else{let r=Pn(e),n=e.length;for(let o=0;o<n;o++){let s=e[o];if(nr(s))continue;let i=Oe(s),a=i.length;for(let c=0;c<a;c++)t.push(at(i[c],{modifiers:cu,structs:r}))}}if(t.length===0)throw new Qo({params:e});return t}var Up=E(()=>{ui();In();pi();Bn();Bn()});var ps=E(()=>{mp();Fp();Hp();Up()});function Re(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new di(e.type);return`${e.name}(${ms(e.inputs,{includeName:t})})`}function ms(e,{includeName:t=!1}={}){return e?e.map(r=>b0(r,{includeName:t})).join(t?", ":","):""}function b0(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ms(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}var _r=E(()=>{de()});function Q(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}var We=E(()=>{});function W(e){return Q(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var ct=E(()=>{We()});var pu,Lp=E(()=>{pu="2.24.1"});function _p(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?_p(e.cause,t):t?null:e}var mu,g,_=E(()=>{Lp();mu={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${pu}`},g=class e extends Error{constructor(t,r={}){let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,o=r.cause instanceof e&&r.cause.docsPath||r.docsPath,s=mu.getDocsUrl?.({...r,docsPath:o}),i=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...mu.version?[`Version: ${mu.version}`]:[]].join(`
`);super(i,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=pu}walk(t){return _p(this,t)}}});var li,ds,Sn,Ze,hi,xi,yi,kn,bi,Cn,ls,or,gi,wi,vi,ut,Et,Ei,Ai,Ti,di,de=E(()=>{_r();ct();_();li=class extends g{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}},ds=class extends g{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}},Sn=class extends g{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ms(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}},Ze=class extends g{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},hi=class extends g{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},xi=class extends g{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${W(r)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},yi=class extends g{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},kn=class extends g{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}},bi=class extends g{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}},Cn=class extends g{constructor(t,{docsPath:r}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}},ls=class extends g{constructor(t,{docsPath:r}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}},or=class extends g{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}},gi=class extends g{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}},wi=class extends g{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Re(t.abiItem)}\`, and`,`\`${r.type}\` in \`${Re(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},vi=class extends g{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}},ut=class extends g{constructor({abiItem:t,data:r,params:n,size:o}){super([`Data size of ${o} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ms(n,{includeName:!0})})`,`Data:   ${r} (${o} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=r,this.params=n,this.size=o}},Et=class extends g{constructor({abiItem:t,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Re(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}},Ei=class extends g{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}},Ai=class extends g{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}},Ti=class extends g{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},di=class extends g{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}});var hs,xs,ys,Bi=E(()=>{_();hs=class extends g{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},xs=class extends g{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}},ys=class extends g{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${t} ${n} long.`,{name:"InvalidBytesLengthError"})}}});function sr(e,{dir:t,size:r=32}={}){return typeof e=="string"?_t(e,{dir:t,size:r}):g0(e,{dir:t,size:r})}function _t(e,{dir:t,size:r=32}={}){if(r===null)return e;let n=e.replace("0x","");if(n.length>r*2)throw new xs({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function g0(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new xs({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let o=0;o<r;o++){let s=t==="right";n[s?o:r-o-1]=e[s?o:e.length-o-1]}return n}var Pi=E(()=>{Bi()});var Rn,Si,ki,Ci,bs=E(()=>{_();Rn=class extends g{constructor({max:t,min:r,signed:n,size:o,value:s}){super(`Number "${s}" is not in safe ${o?`${o*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Si=class extends g{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},ki=class extends g{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},Ci=class extends g{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}});function we(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,n=0;for(let o=0;o<r.length-1&&r[t==="left"?o:r.length-o-1].toString()==="0";o++)n++;return r=t==="left"?r.slice(n):r.slice(0,r.length-n),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}var Mn=E(()=>{});function Me(e,{size:t}){if(W(e)>t)throw new Ci({givenSize:W(e),maxSize:t})}function ir(e,t){let r=typeof t=="string"?{to:t}:t,n=r.to;return n==="number"?se(e,r):n==="bigint"?re(e,r):n==="string"?du(e,r):n==="boolean"?gs(e,r):ie(e,r)}function re(e,t={}){let{signed:r}=t;t.size&&Me(e,{size:t.size});let n=BigInt(e);if(!r)return n;let o=(e.length-2)/2,s=(1n<<BigInt(o)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function gs(e,t={}){let r=e;if(t.size&&(Me(r,{size:t.size}),r=we(r)),we(r)==="0x00")return!1;if(we(r)==="0x01")return!0;throw new ki(r)}function se(e,t={}){return Number(re(e,t))}function du(e,t={}){let r=ie(e);return t.size&&(Me(r,{size:t.size}),r=we(r,{dir:"right"})),new TextDecoder().decode(r)}var ve=E(()=>{bs();ct();Mn();le()});function $(e,t={}){return typeof e=="number"||typeof e=="bigint"?C(e,t):typeof e=="string"?ft(e,t):typeof e=="boolean"?Ri(e,t):j(e,t)}function Ri(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(Me(r,{size:t.size}),sr(r,{size:t.size})):r}function j(e,t={}){let r="";for(let o=0;o<e.length;o++)r+=w0[e[o]];let n=`0x${r}`;return typeof t.size=="number"?(Me(n,{size:t.size}),sr(n,{dir:"right",size:t.size})):n}function C(e,t={}){let{signed:r,size:n}=t,o=BigInt(e),s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof s=="bigint"&&r?-s-1n:0;if(s&&o>s||o<i){let c=typeof e=="bigint"?"n":"";throw new Rn({max:s?`${s}${c}`:void 0,min:`${i}${c}`,signed:r,size:n,value:`${e}${c}`})}let a=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?sr(a,{size:n}):a}function ft(e,t={}){let r=v0.encode(e);return j(r,t)}var w0,v0,H=E(()=>{bs();Pi();ve();w0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));v0=new TextEncoder});function Ke(e,t={}){return typeof e=="number"||typeof e=="bigint"?T0(e,t):typeof e=="boolean"?A0(e,t):Q(e)?ie(e,t):pt(e,t)}function A0(e,t={}){let r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Me(r,{size:t.size}),sr(r,{size:t.size})):r}function Dp(e){if(e>=Dt.zero&&e<=Dt.nine)return e-Dt.zero;if(e>=Dt.A&&e<=Dt.F)return e-(Dt.A-10);if(e>=Dt.a&&e<=Dt.f)return e-(Dt.a-10)}function ie(e,t={}){let r=e;t.size&&(Me(r,{size:t.size}),r=sr(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let o=n.length/2,s=new Uint8Array(o);for(let i=0,a=0;i<o;i++){let c=Dp(n.charCodeAt(a++)),u=Dp(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new g(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[i]=c*16+u}return s}function T0(e,t){let r=C(e,t);return ie(r)}function pt(e,t={}){let r=E0.encode(e);return typeof t.size=="number"?(Me(r,{size:t.size}),sr(r,{dir:"right",size:t.size})):r}var E0,Dt,le=E(()=>{_();We();Pi();ve();H();E0=new TextEncoder;Dt={zero:48,nine:57,A:65,F:70,a:97,f:102}});function ws(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function I0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ar(e,...t){if(!I0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function jp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ws(e.outputLen),ws(e.blockLen)}function jt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Mi(e,t){ar(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}var vs=E(()=>{});function B0(e,t=!1){return t?{h:Number(e&Ni),l:Number(e>>qp&Ni)}:{h:Number(e>>qp&Ni)|0,l:Number(e&Ni)|0}}function Gp(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:s,l:i}=B0(e[o],t);[r[o],n[o]]=[s,i]}return[r,n]}var Ni,qp,Vp,Wp,Zp,Kp,Yp=E(()=>{Ni=BigInt(4294967295),qp=BigInt(32);Vp=(e,t,r)=>e<<r|t>>>32-r,Wp=(e,t,r)=>t<<r|e>>>32-r,Zp=(e,t,r)=>t<<r-32|e>>>64-r,Kp=(e,t,r)=>e<<r-32|t>>>64-r});var Dr,Jp=E(()=>{Dr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function Xp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function $i(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mt(e,t){return e<<32-t|e>>>t}function P0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function hu(e){for(let t=0;t<e.length;t++)e[t]=P0(e[t])}function S0(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function ur(e){return typeof e=="string"&&(e=S0(e)),ar(e),e}function Qp(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];ar(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let s=e[n];r.set(s,o),o+=s.length}return r}function zi(e){let t=n=>e().update(ur(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function em(e){let t=(n,o)=>e(o).update(ur(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Oi(e=32){if(Dr&&typeof Dr.getRandomValues=="function")return Dr.getRandomValues(new Uint8Array(e));if(Dr&&typeof Dr.randomBytes=="function")return Dr.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}var lu,cr,jr=E(()=>{Jp();vs();lu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;cr=class{clone(){return this._cloneInto()}}});function O0(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,u=r[c],p=r[c+1],m=tm(u,p,1)^r[a],f=rm(u,p,1)^r[a+1];for(let d=0;d<50;d+=10)e[i+d]^=m,e[i+d+1]^=f}let o=e[2],s=e[3];for(let i=0;i<24;i++){let a=om[i],c=tm(o,s,a),u=rm(o,s,a),p=nm[i];o=e[p],s=e[p+1],e[p]=c,e[p+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=$0[n],e[1]^=z0[n]}r.fill(0)}var nm,om,sm,k0,Es,C0,R0,M0,N0,$0,z0,tm,rm,Fi,fr,gw,ww,vw,Ew,Aw,Hi,Tw,Iw,im,Bw,Pw,xu=E(()=>{vs();Yp();jr();nm=[],om=[],sm=[],k0=BigInt(0),Es=BigInt(1),C0=BigInt(2),R0=BigInt(7),M0=BigInt(256),N0=BigInt(113);for(let e=0,t=Es,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],nm.push(2*(5*n+r)),om.push((e+1)*(e+2)/2%64);let o=k0;for(let s=0;s<7;s++)t=(t<<Es^(t>>R0)*N0)%M0,t&C0&&(o^=Es<<(Es<<BigInt(s))-Es);sm.push(o)}[$0,z0]=Gp(sm,!0),tm=(e,t,r)=>r>32?Zp(e,t,r):Vp(e,t,r),rm=(e,t,r)=>r>32?Kp(e,t,r):Wp(e,t,r);Fi=class e extends cr{constructor(t,r,n,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ws(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Xp(this.state)}keccak(){lu||hu(this.state32),O0(this.state32,this.rounds),lu||hu(this.state32),this.posOut=0,this.pos=0}update(t){jt(this);let{blockLen:r,state:n}=this;t=ur(t);let o=t.length;for(let s=0;s<o;){let i=Math.min(r-this.pos,o-s);for(let a=0;a<i;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:o}=this;t[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){jt(this,!1),ar(t),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,s=t.length;o<s;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,s-o);t.set(r.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ws(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Mi(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new e(r,n,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}},fr=(e,t,r)=>zi(()=>new Fi(t,e,r)),gw=fr(6,144,224/8),ww=fr(6,136,256/8),vw=fr(6,104,384/8),Ew=fr(6,72,512/8),Aw=fr(1,144,224/8),Hi=fr(1,136,256/8),Tw=fr(1,104,384/8),Iw=fr(1,72,512/8),im=(e,t,r)=>em((n={})=>new Fi(t,e,n.dkLen===void 0?r:n.dkLen,!0)),Bw=im(31,168,128/8),Pw=im(31,136,256/8)});function K(e,t){let r=t||"hex",n=Hi(Q(e,{strict:!1})?Ke(e):e);return r==="bytes"?n:$(n)}var dt=E(()=>{xu();We();le();H()});function am(e){return F0(e)}var F0,cm=E(()=>{le();dt();F0=e=>K(Ke(e))});function um(e){let t=!0,r="",n=0,o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function",""].includes(o))o="";else if(o+=a,a===")"){s=!0;break}continue}if(a===" "){e[i-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}o+=a,r+=a}}if(!s)throw new g("Unable to normalize signature.");return o}var fm=E(()=>{_()});var pm,mm=E(()=>{ps();fm();pm=e=>{let t=typeof e=="string"?e:Ur(e);return um(t)}});function Ui(e){return am(pm(e))}var yu=E(()=>{cm();mm()});var pr,As=E(()=>{yu();pr=Ui});var ee,At=E(()=>{_();ee=class extends g{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var Tt,Ts=E(()=>{Tt=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function qt(e,t){if(bu.has(`${e}.${t}`))return bu.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=K(pt(r),"bytes"),o=(t?r.substring(`${t}0x`.length):r).split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&o[i]&&(o[i]=o[i].toUpperCase()),(n[i>>1]&15)>=8&&o[i+1]&&(o[i+1]=o[i+1].toUpperCase());let s=`0x${o.join("")}`;return bu.set(`${e}.${t}`,s),s}function Li(e,t){if(!Y(e,{strict:!1}))throw new ee({address:e});return qt(e,t)}var bu,qr=E(()=>{At();le();dt();Ts();lt();bu=new Tt(8192)});function Y(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(gu.has(n))return gu.get(n);let o=H0.test(e)?e.toLowerCase()===e?!0:r?qt(e)===e:!0:!1;return gu.set(n,o),o}var H0,gu,lt=E(()=>{Ts();qr();H0=/^0x[a-fA-F0-9]{40}$/,gu=new Tt(8192)});function Ne(e){return typeof e[0]=="string"?Te(e):U0(e)}function U0(e){let t=0;for(let o of e)t+=o.length;let r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function Te(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}var Ye=E(()=>{});function Gt(e,t,r,{strict:n}={}){return Q(e,{strict:!1})?vu(e,t,r,{strict:n}):wu(e,t,r,{strict:n})}function dm(e,t){if(typeof t=="number"&&t>0&&t>W(e)-1)throw new hs({offset:t,position:"start",size:W(e)})}function lm(e,t,r){if(typeof t=="number"&&typeof r=="number"&&W(e)!==r-t)throw new hs({offset:r,position:"end",size:W(e)})}function wu(e,t,r,{strict:n}={}){dm(e,t);let o=e.slice(t,r);return n&&lm(o,t,r),o}function vu(e,t,r,{strict:n}={}){dm(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&lm(o,t,r),o}var Gr=E(()=>{Bi();We();ct()});var hm,_i,Eu=E(()=>{hm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_i=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function Ie(e,t){if(e.length!==t.length)throw new yi({expectedLength:e.length,givenLength:t.length});let r=L0({params:e,values:t}),n=Tu(r);return n.length===0?"0x":n}function L0({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push(Au({param:e[n],value:t[n]}));return r}function Au({param:e,value:t}){let r=Di(e.type);if(r){let[n,o]=r;return D0(t,{length:n,param:{...e,type:o}})}if(e.type==="tuple")return W0(t,{param:e});if(e.type==="address")return _0(t);if(e.type==="bool")return q0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){let n=e.type.startsWith("int"),[,,o="256"]=_i.exec(e.type)??[];return G0(t,{signed:n,size:Number(o)})}if(e.type.startsWith("bytes"))return j0(t,{param:e});if(e.type==="string")return V0(t);throw new Ei(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Tu(e){let t=0;for(let s=0;s<e.length;s++){let{dynamic:i,encoded:a}=e[s];i?t+=32:t+=W(a)}let r=[],n=[],o=0;for(let s=0;s<e.length;s++){let{dynamic:i,encoded:a}=e[s];i?(r.push(C(t+o,{size:32})),n.push(a),o+=W(a)):r.push(a)}return Ne([...r,...n])}function _0(e){if(!Y(e))throw new ee({address:e});return{dynamic:!1,encoded:_t(e.toLowerCase())}}function D0(e,{length:t,param:r}){let n=t===null;if(!Array.isArray(e))throw new Ti(e);if(!n&&e.length!==t)throw new hi({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let o=!1,s=[];for(let i=0;i<e.length;i++){let a=Au({param:r,value:e[i]});a.dynamic&&(o=!0),s.push(a)}if(n||o){let i=Tu(s);if(n){let a=C(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Ne([a,i]):a}}if(o)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Ne(s.map(({encoded:i})=>i))}}function j0(e,{param:t}){let[,r]=t.type.split("bytes"),n=W(e);if(!r){let o=e;return n%32!==0&&(o=_t(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Ne([_t(C(n,{size:32})),o])}}if(n!==Number.parseInt(r))throw new xi({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:_t(e,{dir:"right"})}}function q0(e){if(typeof e!="boolean")throw new g(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_t(Ri(e))}}function G0(e,{signed:t,size:r=256}){if(typeof r=="number"){let n=2n**(BigInt(r)-(t?1n:0n))-1n,o=t?-n-1n:0n;if(e>n||e<o)throw new Rn({max:n.toString(),min:o.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:C(e,{size:32,signed:t})}}function V0(e){let t=ft(e),r=Math.ceil(W(t)/32),n=[];for(let o=0;o<r;o++)n.push(_t(Gt(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ne([_t(C(W(t),{size:32})),...n])}}function W0(e,{param:t}){let r=!1,n=[];for(let o=0;o<t.components.length;o++){let s=t.components[o],i=Array.isArray(e)?o:s.name,a=Au({param:s,value:e[i]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Tu(n):Ne(n.map(({encoded:o})=>o))}}function Di(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}var Vt=E(()=>{de();At();_();bs();lt();Ye();Pi();ct();Gr();H();Eu()});var It,Is=E(()=>{Gr();yu();It=e=>Gt(Ui(e),0,4)});function Bt(e){let{abi:t,args:r=[],name:n}=e,o=Q(n,{strict:!1}),s=t.filter(a=>o?a.type==="function"?It(a)===n:a.type==="event"?pr(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let i;for(let a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((u,p)=>{let m="inputs"in a&&a.inputs[p];return m?Iu(u,m):!1})){if(i&&"inputs"in i&&i.inputs){let u=xm(a.inputs,i.inputs,r);if(u)throw new wi({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||s[0]}function Iu(e,t){let r=typeof e,n=t.type;switch(n){case"address":return Y(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((o,s)=>Iu(Object.values(e)[s],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(o=>Iu(o,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function xm(e,t,r){for(let n in e){let o=e[n],s=t[n];if(o.type==="tuple"&&s.type==="tuple"&&"components"in o&&"components"in s)return xm(o.components,s.components,r[n]);let i=[o.type,s.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Y(r[n],{strict:!1}):i.includes("address")&&i.includes("bytes")?Y(r[n],{strict:!1}):!1)return i}}var Nn=E(()=>{de();We();lt();As();Is()});function D(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}var he=E(()=>{});function wm(e){let{abi:t,args:r,functionName:n}=e,o=t[0];if(n){let s=Bt({abi:t,args:r,name:n});if(!s)throw new or(n,{docsPath:gm});o=s}if(o.type!=="function")throw new or(void 0,{docsPath:gm});return{abi:[o],functionName:It(Re(o))}}var gm,vm=E(()=>{de();Is();_r();Nn();gm="/docs/contract/encodeFunctionData"});function oe(e){let{args:t}=e,{abi:r,functionName:n}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:wm(e),o=r[0],s=n,i="inputs"in o&&o.inputs?Ie(o.inputs,t??[]):void 0;return Te([s,i??"0x"])}var Je=E(()=>{Ye();Vt();vm()});var qi,Em,Am,Gi=E(()=>{qi={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Em={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Am={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var Bs,$n,Vi,Bu=E(()=>{_();Bs=class extends g{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},$n=class extends g{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Vi=class extends g{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function zn(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(Z0);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}var Z0,Wi=E(()=>{Bu();Z0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Vi({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new $n({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Bs({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Bs({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}}});function Tm(e,t={}){typeof t.size<"u"&&Me(e,{size:t.size});let r=j(e,t);return re(r,t)}function Im(e,t={}){let r=e;if(typeof t.size<"u"&&(Me(r,{size:t.size}),r=we(r)),r.length>1||r[0]>1)throw new Si(r);return!!r[0]}function St(e,t={}){typeof t.size<"u"&&Me(e,{size:t.size});let r=j(e,t);return se(r,t)}function Bm(e,t={}){let r=e;return typeof t.size<"u"&&(Me(r,{size:t.size}),r=we(r,{dir:"right"})),new TextDecoder().decode(r)}var Pm=E(()=>{bs();Mn();ve();H()});function Vr(e,t){let r=typeof t=="string"?ie(t):t,n=zn(r);if(W(r)===0&&e.length>0)throw new Ze;if(W(t)&&W(t)<32)throw new Sn({data:typeof t=="string"?t:j(t),params:e,size:W(t)});let o=0,s=[];for(let i=0;i<e.length;++i){let a=e[i];n.setPosition(o);let[c,u]=On(n,a,{staticPosition:0});o+=u,s.push(c)}return s}function On(e,t,{staticPosition:r}){let n=Di(t.type);if(n){let[o,s]=n;return Y0(e,{...t,type:s},{length:o,staticPosition:r})}if(t.type==="tuple")return ex(e,t,{staticPosition:r});if(t.type==="address")return K0(e);if(t.type==="bool")return J0(e);if(t.type.startsWith("bytes"))return X0(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Q0(e,t);if(t.type==="string")return tx(e,{staticPosition:r});throw new Ai(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function K0(e){let t=e.readBytes(32);return[qt(j(wu(t,-20))),32]}function Y0(e,t,{length:r,staticPosition:n}){if(!r){let i=St(e.readBytes(Pu)),a=n+i,c=a+Sm;e.setPosition(a);let u=St(e.readBytes(Sm)),p=Ps(t),m=0,f=[];for(let d=0;d<u;++d){e.setPosition(c+(p?d*32:m));let[y,b]=On(e,t,{staticPosition:c});m+=b,f.push(y)}return e.setPosition(n+32),[f,32]}if(Ps(t)){let i=St(e.readBytes(Pu)),a=n+i,c=[];for(let u=0;u<r;++u){e.setPosition(a+u*32);let[p]=On(e,t,{staticPosition:a});c.push(p)}return e.setPosition(n+32),[c,32]}let o=0,s=[];for(let i=0;i<r;++i){let[a,c]=On(e,t,{staticPosition:n+o});o+=c,s.push(a)}return[s,o]}function J0(e){return[Im(e.readBytes(32),{size:32}),32]}function X0(e,t,{staticPosition:r}){let[n,o]=t.type.split("bytes");if(!o){let i=St(e.readBytes(32));e.setPosition(r+i);let a=St(e.readBytes(32));if(a===0)return e.setPosition(r+32),["0x",32];let c=e.readBytes(a);return e.setPosition(r+32),[j(c),32]}return[j(e.readBytes(Number.parseInt(o),32)),32]}function Q0(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),o=e.readBytes(32);return[n>48?Tm(o,{signed:r}):St(o,{signed:r}),32]}function ex(e,t,{staticPosition:r}){let n=t.components.length===0||t.components.some(({name:i})=>!i),o=n?[]:{},s=0;if(Ps(t)){let i=St(e.readBytes(Pu)),a=r+i;for(let c=0;c<t.components.length;++c){let u=t.components[c];e.setPosition(a+s);let[p,m]=On(e,u,{staticPosition:a});s+=m,o[n?c:u?.name]=p}return e.setPosition(r+32),[o,32]}for(let i=0;i<t.components.length;++i){let a=t.components[i],[c,u]=On(e,a,{staticPosition:r});o[n?i:a?.name]=c,s+=u}return[o,s]}function tx(e,{staticPosition:t}){let r=St(e.readBytes(32)),n=t+r;e.setPosition(n);let o=St(e.readBytes(32));if(o===0)return e.setPosition(t+32),["",32];let s=e.readBytes(o,32),i=Bm(we(s));return e.setPosition(t+32),[i,32]}function Ps(e){let{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Ps);let r=Di(e.type);return!!(r&&Ps({...e,type:r[1]}))}var Sm,Pu,Zi=E(()=>{de();qr();Wi();ct();Gr();Mn();Pm();le();H();Vt();Sm=32,Pu=32});function Ki(e){let{abi:t,data:r}=e,n=Gt(r,0,4);if(n==="0x")throw new Ze;let s=[...t||[],Em,Am].find(i=>i.type==="error"&&n===It(Re(i)));if(!s)throw new kn(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Vr(s.inputs,Gt(r,4)):void 0,errorName:s.name}}var Su=E(()=>{Gi();de();Gr();Is();Zi();_r()});var q,$e=E(()=>{q=(e,t,r)=>JSON.stringify(e,(n,o)=>{let s=typeof o=="bigint"?o.toString():o;return typeof t=="function"?t(n,s):s},r)});function ku({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((o,s)=>`${n&&o.name?`${o.name}: `:""}${typeof t[s]=="object"?q(t[s]):t[s]}`).join(", ")})`}var km=E(()=>{$e()});var Cm,Rm,Cu=E(()=>{Cm={gwei:9,wei:18},Rm={ether:-9,wei:9}});function Yi(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[o,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${o||"0"}${s?`.${s}`:""}`}var Ru=E(()=>{});function Fn(e,t="wei"){return Yi(e,Cm[t])}var Ji=E(()=>{Cu();Ru()});function xe(e,t="wei"){return Yi(e,Rm[t])}var Hn=E(()=>{Cu();Ru()});function Mm(e){return e.reduce((t,{slot:r,value:n})=>`${t}        ${r}: ${n}
`,"")}function Nm(e){return e.reduce((t,{address:r,...n})=>{let o=`${t}    ${r}:
`;return n.nonce&&(o+=`      nonce: ${n.nonce}
`),n.balance&&(o+=`      balance: ${n.balance}
`),n.code&&(o+=`      code: ${n.code}
`),n.state&&(o+=`      state:
`,o+=Mm(n.state)),n.stateDiff&&(o+=`      stateDiff:
`,o+=Mm(n.stateDiff)),o},`  State Override:
`).slice(0,-1)}var Xi,Qi,Mu=E(()=>{_();Xi=class extends g{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}},Qi=class extends g{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function Wr(e){let t=Object.entries(e).map(([n,o])=>o===void 0||o===!1?null:[n,o]).filter(Boolean),r=t.reduce((n,[o])=>Math.max(n,o.length),0);return t.map(([n,o])=>`  ${`${n}:`.padEnd(r+1)}  ${o}`).join(`
`)}var ea,ta,ra,na,oa,Un,Ln,sa,ht=E(()=>{Ji();Hn();_();ea=class extends g{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},ta=class extends g{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}},ra=class extends g{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Wr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},na=class extends g{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}},oa=class extends g{constructor(t,{account:r,docsPath:n,chain:o,data:s,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:p,to:m,value:f}){let d=Wr({chain:o&&`${o?.name} (id: ${o?.id})`,from:r?.address,to:m,value:typeof f<"u"&&`${Fn(f)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:i,gasPrice:typeof a<"u"&&`${xe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${xe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${xe(u)} gwei`,nonce:p});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",d].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}},Un=class extends g{constructor({blockHash:t,blockNumber:r,blockTag:n,hash:o,index:s}){let i="Transaction";n&&s!==void 0&&(i=`Transaction at block time "${n}" at index "${s}"`),t&&s!==void 0&&(i=`Transaction at block hash "${t}" at index "${s}"`),r&&s!==void 0&&(i=`Transaction at block number "${r}" at index "${s}"`),o&&(i=`Transaction with hash "${o}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}},Ln=class extends g{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},sa=class extends g{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var $m,Zr,ia=E(()=>{$m=e=>e,Zr=e=>e});var _n,aa,Kr,ca,ua,kt,dr=E(()=>{he();Gi();Su();_r();km();Nn();Ji();Hn();de();_();Mu();ht();ia();_n=class extends g{constructor(t,{account:r,docsPath:n,chain:o,data:s,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:p,to:m,value:f,stateOverride:d}){let y=r?D(r):void 0,b=Wr({from:y?.address,to:m,value:typeof f<"u"&&`${Fn(f)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:i,gasPrice:typeof a<"u"&&`${xe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${xe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${xe(u)} gwei`,nonce:p});d&&(b+=`
${Nm(d)}`),super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}},aa=class extends g{constructor(t,{abi:r,args:n,contractAddress:o,docsPath:s,functionName:i,sender:a}){let c=Bt({abi:r,args:n,name:i}),u=c?ku({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,p=c?Re(c,{includeName:!0}):void 0,m=Wr({address:o&&$m(o),function:p,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],m&&"Contract Call:",m].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=t,this.contractAddress=o,this.functionName=i,this.sender=a}},Kr=class extends g{constructor({abi:t,data:r,functionName:n,message:o}){let s,i,a,c;if(r&&r!=="0x")try{i=Ki({abi:t,data:r});let{abiItem:p,errorName:m,args:f}=i;if(m==="Error")c=f[0];else if(m==="Panic"){let[d]=f;c=qi[d]}else{let d=p?Re(p,{includeName:!0}):void 0,y=p&&f?ku({abiItem:p,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[d?`Error: ${d}`:"",y&&y!=="()"?`       ${[...Array(m?.length??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(p){s=p}else o&&(c=o);let u;s instanceof kn&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=r,this.reason=c,this.signature=u}},ca=class extends g{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},ua=class extends g{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},kt=class extends g{constructor({data:t,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}});var Xe,lr,Ss,Yr=E(()=>{$e();_();ia();Xe=class extends g{constructor({body:t,cause:r,details:n,headers:o,status:s,url:i}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Zr(i)}`,t&&`Request body: ${q(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=o,this.status=s,this.url=i}},lr=class extends g{constructor({body:t,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Zr(n)}`,`Request body: ${q(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}},Ss=class extends g{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Zr(r)}`,`Request body: ${q(t)}`],name:"TimeoutError"})}}});var rx,Be,hr,Dn,jn,qn,Gn,Wt,Ct,Vn,Wn,Zn,xr,Jr,Kn,Xr,Yn,Jn,Xn,Qn,eo,fa,ks=E(()=>{_();Yr();rx=-1,Be=class extends g{constructor(t,{code:r,docsPath:n,metaMessages:o,name:s,shortMessage:i}){super(i,{cause:t,docsPath:n,metaMessages:o||t?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||t.name,this.code=t instanceof lr?t.code:r??rx}},hr=class extends Be{constructor(t,r){super(t,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}},Dn=class e extends Be{constructor(t){super(t,{code:e.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});jn=class e extends Be{constructor(t){super(t,{code:e.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});qn=class e extends Be{constructor(t,{method:r}={}){super(t,{code:e.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}};Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});Gn=class e extends Be{constructor(t){super(t,{code:e.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Wt=class e extends Be{constructor(t){super(t,{code:e.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});Ct=class e extends Be{constructor(t){super(t,{code:e.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});Vn=class e extends Be{constructor(t){super(t,{code:e.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});Wn=class e extends Be{constructor(t){super(t,{code:e.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(Wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});Zn=class e extends Be{constructor(t){super(t,{code:e.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(Zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});xr=class e extends Be{constructor(t,{method:r}={}){super(t,{code:e.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}};Object.defineProperty(xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});Jr=class e extends Be{constructor(t){super(t,{code:e.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(Jr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});Kn=class e extends Be{constructor(t){super(t,{code:e.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});Xr=class e extends hr{constructor(t){super(t,{code:e.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});Yn=class e extends hr{constructor(t){super(t,{code:e.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(Yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});Jn=class e extends hr{constructor(t,{method:r}={}){super(t,{code:e.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}};Object.defineProperty(Jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});Xn=class e extends hr{constructor(t){super(t,{code:e.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(Xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});Qn=class e extends hr{constructor(t){super(t,{code:e.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(Qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});eo=class e extends hr{constructor(t){super(t,{code:e.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});fa=class extends Be{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function ox(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+u,a,n)}function Om(e,t,r){return e&t^~e&r}function Fm(e,t,r){return e&t^e&r^t&r}var pa,Hm=E(()=>{vs();jr();pa=class extends cr{constructor(t,r,n,o){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=$i(this.buffer)}update(t){jt(this);let{view:r,buffer:n,blockLen:o}=this;t=ur(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=$i(t);for(;o<=s-i;i+=o)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){jt(this),Mi(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(n,0),i=0);for(let m=i;m<o;m++)r[m]=0;ox(n,o-8,BigInt(this.length*8),s),this.process(n,0);let a=$i(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,p=this.get();if(u>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<u;m++)a.setUint32(4*m,p[m],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%r&&t.buffer.set(n),t}}});var sx,yr,br,Nu,Qr,$u=E(()=>{Hm();jr();sx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),br=new Uint32Array(64),Nu=class extends pa{constructor(){super(64,32,8,!1),this.A=yr[0]|0,this.B=yr[1]|0,this.C=yr[2]|0,this.D=yr[3]|0,this.E=yr[4]|0,this.F=yr[5]|0,this.G=yr[6]|0,this.H=yr[7]|0}get(){let{A:t,B:r,C:n,D:o,E:s,F:i,G:a,H:c}=this;return[t,r,n,o,s,i,a,c]}set(t,r,n,o,s,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let m=0;m<16;m++,r+=4)br[m]=t.getUint32(r,!1);for(let m=16;m<64;m++){let f=br[m-15],d=br[m-2],y=mt(f,7)^mt(f,18)^f>>>3,b=mt(d,17)^mt(d,19)^d>>>10;br[m]=b+br[m-7]+y+br[m-16]|0}let{A:n,B:o,C:s,D:i,E:a,F:c,G:u,H:p}=this;for(let m=0;m<64;m++){let f=mt(a,6)^mt(a,11)^mt(a,25),d=p+f+Om(a,c,u)+sx[m]+br[m]|0,b=(mt(n,2)^mt(n,13)^mt(n,22))+Fm(n,o,s)|0;p=u,u=c,c=a,a=i+d|0,i=s,s=o,o=n,n=d+b|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,p=p+this.H|0,this.set(n,o,s,i,a,c,u,p)}roundClean(){br.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Qr=zi(()=>new Nu)});var ma,zu,Um=E(()=>{vs();jr();ma=class extends cr{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,jp(t);let n=ur(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return jt(this),this.iHash.update(t),this}digestInto(t){jt(this),ar(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},zu=(e,t,r)=>new ma(e,t).update(r).digest();zu.create=(e,t)=>new ma(e,t)});var _u={};su(_u,{aInRange:()=>Rt,abool:()=>en,abytes:()=>Qe,bitGet:()=>fx,bitLen:()=>Uu,bitMask:()=>Rs,bitSet:()=>px,bytesToHex:()=>tn,bytesToNumberBE:()=>Fe,bytesToNumberLE:()=>ha,concatBytes:()=>Pe,createHmacDrbg:()=>Lu,ensureBytes:()=>ye,equalBytes:()=>ux,hexToBytes:()=>nn,hexToNumber:()=>Hu,inRange:()=>wr,isBytes:()=>gr,memoized:()=>ya,notImplemented:()=>dx,numberToBytesBE:()=>xt,numberToBytesLE:()=>xa,numberToHexUnpadded:()=>rn,numberToVarBytesBE:()=>cx,utf8ToBytes:()=>Cs,validateObject:()=>Mt});function gr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Qe(e){if(!gr(e))throw new Error("Uint8Array expected")}function en(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function tn(e){Qe(e);let t="";for(let r=0;r<e.length;r++)t+=ax[e[r]];return t}function rn(e){let t=e.toString(16);return t.length&1?"0"+t:t}function Hu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?da:BigInt("0x"+e)}function Lm(e){if(e>=Zt._0&&e<=Zt._9)return e-Zt._0;if(e>=Zt.A&&e<=Zt.F)return e-(Zt.A-10);if(e>=Zt.a&&e<=Zt.f)return e-(Zt.a-10)}function nn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let o=0,s=0;o<r;o++,s+=2){let i=Lm(e.charCodeAt(s)),a=Lm(e.charCodeAt(s+1));if(i===void 0||a===void 0){let c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[o]=i*16+a}return n}function Fe(e){return Hu(tn(e))}function ha(e){return Qe(e),Hu(tn(Uint8Array.from(e).reverse()))}function xt(e,t){return nn(e.toString(16).padStart(t*2,"0"))}function xa(e,t){return xt(e,t).reverse()}function cx(e){return nn(rn(e))}function ye(e,t,r){let n;if(typeof t=="string")try{n=nn(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(gr(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function Pe(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];Qe(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let s=e[n];r.set(s,o),o+=s.length}return r}function ux(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function Cs(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function wr(e,t,r){return Ou(e)&&Ou(t)&&Ou(r)&&t<=e&&e<r}function Rt(e,t,r,n){if(!wr(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Uu(e){let t;for(t=0;e>da;e>>=la,t+=1);return t}function fx(e,t){return e>>BigInt(t)&la}function px(e,t,r){return e|(r?la:da)<<BigInt(t)}function Lu(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Fu(e),o=Fu(e),s=0,i=()=>{n.fill(1),o.fill(0),s=0},a=(...m)=>r(o,n,...m),c=(m=Fu())=>{o=a(_m([0]),m),n=a(),m.length!==0&&(o=a(_m([1]),m),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let m=0,f=[];for(;m<t;){n=a();let d=n.slice();f.push(d),m+=n.length}return Pe(...f)};return(m,f)=>{i(),c(m);let d;for(;!(d=f(u()));)c();return i(),d}}function Mt(e,t,r={}){let n=(o,s,i)=>{let a=mx[s];if(typeof a!="function")throw new Error("invalid validator function");let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+c)};for(let[o,s]of Object.entries(t))n(o,s,!1);for(let[o,s]of Object.entries(r))n(o,s,!0);return e}function ya(e){let t=new WeakMap;return(r,...n)=>{let o=t.get(r);if(o!==void 0)return o;let s=e(r,...n);return t.set(r,s),s}}var da,la,ix,ax,Zt,Ou,Rs,Fu,_m,mx,dx,on=E(()=>{da=BigInt(0),la=BigInt(1),ix=BigInt(2);ax=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));Zt={_0:48,_9:57,A:65,F:70,a:97,f:102};Ou=e=>typeof e=="bigint"&&da<=e;Rs=e=>(ix<<BigInt(e-1))-la,Fu=e=>new Uint8Array(e),_m=e=>Uint8Array.from(e);mx={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||gr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};dx=()=>{throw new Error("not implemented")}});function pe(e,t){let r=e%t;return r>=be?r:t+r}function yx(e,t,r){if(t<be)throw new Error("invalid exponent, negatives unsupported");if(r<=be)throw new Error("invalid modulus");if(r===ae)return be;let n=ae;for(;t>be;)t&ae&&(n=n*e%r),e=e*e%r,t>>=ae;return n}function Ve(e,t,r){let n=e;for(;t-- >be;)n*=n,n%=r;return n}function ba(e,t){if(e===be)throw new Error("invert: expected non-zero number");if(t<=be)throw new Error("invert: expected positive modulus, got "+t);let r=pe(e,t),n=t,o=be,s=ae,i=ae,a=be;for(;r!==be;){let u=n/r,p=n%r,m=o-i*u,f=s-a*u;n=r,r=p,o=i,s=a,i=m,a=f}if(n!==ae)throw new Error("invert: does not exist");return pe(o,t)}function bx(e){let t=(e-ae)/sn,r,n,o;for(r=e-ae,n=0;r%sn===be;r/=sn,n++);for(o=sn;o<e&&yx(o,t,e)!==e-ae;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let i=(e+ae)/Du;return function(c,u){let p=c.pow(u,i);if(!c.eql(c.sqr(p),u))throw new Error("Cannot find square root");return p}}let s=(r+ae)/sn;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,p=a.pow(a.mul(a.ONE,o),r),m=a.pow(c,s),f=a.pow(c,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let d=1;for(let b=a.sqr(f);d<u&&!a.eql(b,a.ONE);d++)b=a.sqr(b);let y=a.pow(p,ae<<BigInt(u-d-1));p=a.sqr(y),m=a.mul(m,y),f=a.mul(f,p),u=d}return m}}function gx(e){if(e%Du===lx){let t=(e+ae)/Du;return function(n,o){let s=n.pow(o,t);if(!n.eql(n.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%jm===Dm){let t=(e-Dm)/jm;return function(n,o){let s=n.mul(o,sn),i=n.pow(s,t),a=n.mul(o,i),c=n.mul(n.mul(a,sn),i),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),o))throw new Error("Cannot find square root");return u}}return e%xx,bx(e)}function ga(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=wx.reduce((n,o)=>(n[o]="function",n),t);return Mt(e,r)}function vx(e,t,r){if(r<be)throw new Error("invalid exponent, negatives unsupported");if(r===be)return e.ONE;if(r===ae)return t;let n=e.ONE,o=t;for(;r>be;)r&ae&&(n=e.mul(n,o)),o=e.sqr(o),r>>=ae;return n}function Ex(e,t){let r=new Array(t.length),n=t.reduce((s,i,a)=>e.is0(i)?s:(r[a]=s,e.mul(s,i)),e.ONE),o=e.inv(n);return t.reduceRight((s,i,a)=>e.is0(i)?s:(r[a]=e.mul(s,r[a]),e.mul(s,i)),o),r}function ju(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function wa(e,t,r=!1,n={}){if(e<=be)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=ju(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:Rs(o),ZERO:be,ONE:ae,create:c=>pe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return be<=c&&c<e},is0:c=>c===be,isOdd:c=>(c&ae)===ae,neg:c=>pe(-c,e),eql:(c,u)=>c===u,sqr:c=>pe(c*c,e),add:(c,u)=>pe(c+u,e),sub:(c,u)=>pe(c-u,e),mul:(c,u)=>pe(c*u,e),pow:(c,u)=>vx(a,c,u),div:(c,u)=>pe(c*ba(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ba(c,e),sqrt:n.sqrt||(c=>(i||(i=gx(e)),i(a,c))),invertBatch:c=>Ex(a,c),cmov:(c,u,p)=>p?u:c,toBytes:c=>r?xa(c,s):xt(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?ha(c):Fe(c)}});return Object.freeze(a)}function qm(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function qu(e){let t=qm(e);return t+Math.ceil(t/2)}function Gm(e,t,r=!1){let n=e.length,o=qm(t),s=qu(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);let i=r?ha(e):Fe(e),a=pe(i,t-ae)+ae;return r?xa(a,o):xt(a,o)}var be,ae,sn,lx,Du,Dm,jm,hx,xx,wx,Ms=E(()=>{on();be=BigInt(0),ae=BigInt(1),sn=BigInt(2),lx=BigInt(3),Du=BigInt(4),Dm=BigInt(5),jm=BigInt(8),hx=BigInt(9),xx=BigInt(16);wx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function Gu(e,t){let r=t.negate();return e?r:t}function Wm(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Vu(e,t){Wm(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function Ax(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function Tx(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}function Zu(e){return Zm.get(e)||1}function Km(e,t){return{constTimeNegate:Gu,hasPrecomputes(r){return Zu(r)!==1},unsafeLadder(r,n,o=e.ZERO){let s=r;for(;n>Vm;)n&va&&(o=o.add(s)),s=s.double(),n>>=va;return o},precomputeWindow(r,n){let{windows:o,windowSize:s}=Vu(n,t),i=[],a=r,c=a;for(let u=0;u<o;u++){c=a,i.push(c);for(let p=1;p<s;p++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(r,n,o){let{windows:s,windowSize:i}=Vu(r,t),a=e.ZERO,c=e.BASE,u=BigInt(2**r-1),p=2**r,m=BigInt(r);for(let f=0;f<s;f++){let d=f*i,y=Number(o&u);o>>=m,y>i&&(y-=p,o+=va);let b=d,l=d+Math.abs(y)-1,h=f%2!==0,x=y<0;y===0?c=c.add(Gu(h,n[b])):a=a.add(Gu(x,n[l]))}return{p:a,f:c}},wNAFUnsafe(r,n,o,s=e.ZERO){let{windows:i,windowSize:a}=Vu(r,t),c=BigInt(2**r-1),u=2**r,p=BigInt(r);for(let m=0;m<i;m++){let f=m*a;if(o===Vm)break;let d=Number(o&c);if(o>>=p,d>a&&(d-=u,o+=va),d===0)continue;let y=n[f+Math.abs(d)-1];d<0&&(y=y.negate()),s=s.add(y)}return s},getPrecomputes(r,n,o){let s=Wu.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Wu.set(n,o(s))),s},wNAFCached(r,n,o){let s=Zu(r);return this.wNAF(s,this.getPrecomputes(s,r,o),n)},wNAFCachedUnsafe(r,n,o,s){let i=Zu(r);return i===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,r,o),n,s)},setWindowSize(r,n){Wm(n,t),Zm.set(r,n),Wu.delete(r)}}}function Ym(e,t,r,n){if(Ax(r,e),Tx(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let o=e.ZERO,s=Uu(BigInt(r.length)),i=s>12?s-3:s>4?s-2:s?2:1,a=(1<<i)-1,c=new Array(a+1).fill(o),u=Math.floor((t.BITS-1)/i)*i,p=o;for(let m=u;m>=0;m-=i){c.fill(o);for(let d=0;d<n.length;d++){let y=n[d],b=Number(y>>BigInt(m)&BigInt(a));c[b]=c[b].add(r[d])}let f=o;for(let d=c.length-1,y=o;d>0;d--)y=y.add(c[d]),f=f.add(y);if(p=p.add(f),m!==0)for(let d=0;d<i;d++)p=p.double()}return p}function Ku(e){return ga(e.Fp),Mt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ju(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}var Vm,va,Wu,Zm,Jm=E(()=>{Ms();on();Vm=BigInt(0),va=BigInt(1);Wu=new WeakMap,Zm=new WeakMap});function Xm(e){e.lowS!==void 0&&en("lowS",e.lowS),e.prehash!==void 0&&en("prehash",e.prehash)}function Ix(e){let t=Ku(e);Mt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}function Sx(e){let t=Ix(e),{Fp:r}=t,n=wa(t.n,t.nBitLength),o=t.toBytes||((b,l,h)=>{let x=l.toAffine();return Pe(Uint8Array.from([4]),r.toBytes(x.x),r.toBytes(x.y))}),s=t.fromBytes||(b=>{let l=b.subarray(1),h=r.fromBytes(l.subarray(0,r.BYTES)),x=r.fromBytes(l.subarray(r.BYTES,2*r.BYTES));return{x:h,y:x}});function i(b){let{a:l,b:h}=t,x=r.sqr(b),w=r.mul(x,b);return r.add(r.add(w,r.mul(b,l)),h)}if(!r.eql(r.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(b){return wr(b,J,t.n)}function c(b){let{allowedPrivateKeyLengths:l,nByteLength:h,wrapPrivateKey:x,n:w}=t;if(l&&typeof b!="bigint"){if(gr(b)&&(b=tn(b)),typeof b!="string"||!l.includes(b.length))throw new Error("invalid private key");b=b.padStart(h*2,"0")}let v;try{v=typeof b=="bigint"?b:Fe(ye("private key",b,h))}catch{throw new Error("invalid private key, expected hex or "+h+" bytes, got "+typeof b)}return x&&(v=pe(v,w)),Rt("private key",v,J,w),v}function u(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}let p=ya((b,l)=>{let{px:h,py:x,pz:w}=b;if(r.eql(w,r.ONE))return{x:h,y:x};let v=b.is0();l==null&&(l=v?r.ONE:r.inv(w));let I=r.mul(h,l),T=r.mul(x,l),A=r.mul(w,l);if(v)return{x:r.ZERO,y:r.ZERO};if(!r.eql(A,r.ONE))throw new Error("invZ was invalid");return{x:I,y:T}}),m=ya(b=>{if(b.is0()){if(t.allowInfinityPoint&&!r.is0(b.py))return;throw new Error("bad point: ZERO")}let{x:l,y:h}=b.toAffine();if(!r.isValid(l)||!r.isValid(h))throw new Error("bad point: x or y not FE");let x=r.sqr(h),w=i(l);if(!r.eql(x,w))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(l,h,x){if(this.px=l,this.py=h,this.pz=x,l==null||!r.isValid(l))throw new Error("x required");if(h==null||!r.isValid(h))throw new Error("y required");if(x==null||!r.isValid(x))throw new Error("z required");Object.freeze(this)}static fromAffine(l){let{x:h,y:x}=l||{};if(!l||!r.isValid(h)||!r.isValid(x))throw new Error("invalid affine point");if(l instanceof f)throw new Error("projective point not allowed");let w=v=>r.eql(v,r.ZERO);return w(h)&&w(x)?f.ZERO:new f(h,x,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(l){let h=r.invertBatch(l.map(x=>x.pz));return l.map((x,w)=>x.toAffine(h[w])).map(f.fromAffine)}static fromHex(l){let h=f.fromAffine(s(ye("pointHex",l)));return h.assertValidity(),h}static fromPrivateKey(l){return f.BASE.multiply(c(l))}static msm(l,h){return Ym(f,n,l,h)}_setWindowSize(l){y.setWindowSize(this,l)}assertValidity(){m(this)}hasEvenY(){let{y:l}=this.toAffine();if(r.isOdd)return!r.isOdd(l);throw new Error("Field doesn't support isOdd")}equals(l){u(l);let{px:h,py:x,pz:w}=this,{px:v,py:I,pz:T}=l,A=r.eql(r.mul(h,T),r.mul(v,w)),P=r.eql(r.mul(x,T),r.mul(I,w));return A&&P}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:l,b:h}=t,x=r.mul(h,Ea),{px:w,py:v,pz:I}=this,T=r.ZERO,A=r.ZERO,P=r.ZERO,B=r.mul(w,w),O=r.mul(v,v),z=r.mul(I,I),F=r.mul(w,v);return F=r.add(F,F),P=r.mul(w,I),P=r.add(P,P),T=r.mul(l,P),A=r.mul(x,z),A=r.add(T,A),T=r.sub(O,A),A=r.add(O,A),A=r.mul(T,A),T=r.mul(F,T),P=r.mul(x,P),z=r.mul(l,z),F=r.sub(B,z),F=r.mul(l,F),F=r.add(F,P),P=r.add(B,B),B=r.add(P,B),B=r.add(B,z),B=r.mul(B,F),A=r.add(A,B),z=r.mul(v,I),z=r.add(z,z),B=r.mul(z,F),T=r.sub(T,B),P=r.mul(z,O),P=r.add(P,P),P=r.add(P,P),new f(T,A,P)}add(l){u(l);let{px:h,py:x,pz:w}=this,{px:v,py:I,pz:T}=l,A=r.ZERO,P=r.ZERO,B=r.ZERO,O=t.a,z=r.mul(t.b,Ea),F=r.mul(h,v),X=r.mul(x,I),S=r.mul(w,T),M=r.add(h,x),R=r.add(v,I);M=r.mul(M,R),R=r.add(F,X),M=r.sub(M,R),R=r.add(h,w);let U=r.add(v,T);return R=r.mul(R,U),U=r.add(F,S),R=r.sub(R,U),U=r.add(x,w),A=r.add(I,T),U=r.mul(U,A),A=r.add(X,S),U=r.sub(U,A),B=r.mul(O,R),A=r.mul(z,S),B=r.add(A,B),A=r.sub(X,B),B=r.add(X,B),P=r.mul(A,B),X=r.add(F,F),X=r.add(X,F),S=r.mul(O,S),R=r.mul(z,R),X=r.add(X,S),S=r.sub(F,S),S=r.mul(O,S),R=r.add(R,S),F=r.mul(X,R),P=r.add(P,F),F=r.mul(U,R),A=r.mul(M,A),A=r.sub(A,F),F=r.mul(M,X),B=r.mul(U,B),B=r.add(B,F),new f(A,P,B)}subtract(l){return this.add(l.negate())}is0(){return this.equals(f.ZERO)}wNAF(l){return y.wNAFCached(this,l,f.normalizeZ)}multiplyUnsafe(l){let{endo:h,n:x}=t;Rt("scalar",l,yt,x);let w=f.ZERO;if(l===yt)return w;if(this.is0()||l===J)return this;if(!h||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,l,f.normalizeZ);let{k1neg:v,k1:I,k2neg:T,k2:A}=h.splitScalar(l),P=w,B=w,O=this;for(;I>yt||A>yt;)I&J&&(P=P.add(O)),A&J&&(B=B.add(O)),O=O.double(),I>>=J,A>>=J;return v&&(P=P.negate()),T&&(B=B.negate()),B=new f(r.mul(B.px,h.beta),B.py,B.pz),P.add(B)}multiply(l){let{endo:h,n:x}=t;Rt("scalar",l,J,x);let w,v;if(h){let{k1neg:I,k1:T,k2neg:A,k2:P}=h.splitScalar(l),{p:B,f:O}=this.wNAF(T),{p:z,f:F}=this.wNAF(P);B=y.constTimeNegate(I,B),z=y.constTimeNegate(A,z),z=new f(r.mul(z.px,h.beta),z.py,z.pz),w=B.add(z),v=O.add(F)}else{let{p:I,f:T}=this.wNAF(l);w=I,v=T}return f.normalizeZ([w,v])[0]}multiplyAndAddUnsafe(l,h,x){let w=f.BASE,v=(T,A)=>A===yt||A===J||!T.equals(w)?T.multiplyUnsafe(A):T.multiply(A),I=v(this,h).add(v(l,x));return I.is0()?void 0:I}toAffine(l){return p(this,l)}isTorsionFree(){let{h:l,isTorsionFree:h}=t;if(l===J)return!0;if(h)return h(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:l,clearCofactor:h}=t;return l===J?this:h?h(f,this):this.multiplyUnsafe(t.h)}toRawBytes(l=!0){return en("isCompressed",l),this.assertValidity(),o(f,this,l)}toHex(l=!0){return en("isCompressed",l),tn(this.toRawBytes(l))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let d=t.nBitLength,y=Km(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function kx(e){let t=Ku(e);return Mt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function ed(e){let t=kx(e),{Fp:r,n}=t,o=r.BYTES+1,s=2*r.BYTES+1;function i(S){return pe(S,n)}function a(S){return ba(S,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:p,isWithinCurveOrder:m}=Sx({...t,toBytes(S,M,R){let U=M.toAffine(),L=r.toBytes(U.x),N=Pe;return en("isCompressed",R),R?N(Uint8Array.from([M.hasEvenY()?2:3]),L):N(Uint8Array.from([4]),L,r.toBytes(U.y))},fromBytes(S){let M=S.length,R=S[0],U=S.subarray(1);if(M===o&&(R===2||R===3)){let L=Fe(U);if(!wr(L,J,r.ORDER))throw new Error("Point is not on curve");let N=p(L),V;try{V=r.sqrt(N)}catch(je){let Ae=je instanceof Error?": "+je.message:"";throw new Error("Point is not on curve"+Ae)}let ue=(V&J)===J;return(R&1)===1!==ue&&(V=r.neg(V)),{x:L,y:V}}else if(M===s&&R===4){let L=r.fromBytes(U.subarray(0,r.BYTES)),N=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:L,y:N}}else{let L=o,N=s;throw new Error("invalid Point, expected length of "+L+", or uncompressed "+N+", got "+M)}}}),f=S=>tn(xt(S,t.nByteLength));function d(S){let M=n>>J;return S>M}function y(S){return d(S)?i(-S):S}let b=(S,M,R)=>Fe(S.slice(M,R));class l{constructor(M,R,U){this.r=M,this.s=R,this.recovery=U,this.assertValidity()}static fromCompact(M){let R=t.nByteLength;return M=ye("compactSignature",M,R*2),new l(b(M,0,R),b(M,R,2*R))}static fromDER(M){let{r:R,s:U}=Kt.toSig(ye("DER",M));return new l(R,U)}assertValidity(){Rt("r",this.r,J,n),Rt("s",this.s,J,n)}addRecoveryBit(M){return new l(this.r,this.s,M)}recoverPublicKey(M){let{r:R,s:U,recovery:L}=this,N=T(ye("msgHash",M));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");let V=L===2||L===3?R+t.n:R;if(V>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let ue=(L&1)===0?"02":"03",ze=c.fromHex(ue+f(V)),je=a(V),Ae=i(-N*je),Lt=i(U*je),vt=c.BASE.multiplyAndAddUnsafe(ze,Ae,Lt);if(!vt)throw new Error("point at infinify");return vt.assertValidity(),vt}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new l(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return nn(this.toDERHex())}toDERHex(){return Kt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return nn(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}let h={isValidPrivateKey(S){try{return u(S),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let S=qu(t.n);return Gm(t.randomBytes(S),t.n)},precompute(S=8,M=c.BASE){return M._setWindowSize(S),M.multiply(BigInt(3)),M}};function x(S,M=!0){return c.fromPrivateKey(S).toRawBytes(M)}function w(S){let M=gr(S),R=typeof S=="string",U=(M||R)&&S.length;return M?U===o||U===s:R?U===2*o||U===2*s:S instanceof c}function v(S,M,R=!0){if(w(S))throw new Error("first arg must be private key");if(!w(M))throw new Error("second arg must be public key");return c.fromHex(M).multiply(u(S)).toRawBytes(R)}let I=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");let M=Fe(S),R=S.length*8-t.nBitLength;return R>0?M>>BigInt(R):M},T=t.bits2int_modN||function(S){return i(I(S))},A=Rs(t.nBitLength);function P(S){return Rt("num < 2^"+t.nBitLength,S,yt,A),xt(S,t.nByteLength)}function B(S,M,R=O){if(["recovered","canonical"].some(Fr=>Fr in R))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:L}=t,{lowS:N,prehash:V,extraEntropy:ue}=R;N==null&&(N=!0),S=ye("msgHash",S),Xm(R),V&&(S=ye("prehashed msgHash",U(S)));let ze=T(S),je=u(M),Ae=[P(je),P(ze)];if(ue!=null&&ue!==!1){let Fr=ue===!0?L(r.BYTES):ue;Ae.push(ye("extraEntropy",Fr))}let Lt=Pe(...Ae),vt=ze;function nu(Fr){let vn=I(Fr);if(!m(vn))return;let ou=a(vn),Zo=c.BASE.multiply(vn).toAffine(),Hr=i(Zo.x);if(Hr===yt)return;let Ko=i(ou*i(vt+Hr*je));if(Ko===yt)return;let En=(Zo.x===Hr?0:2)|Number(Zo.y&J),ep=Ko;return N&&d(Ko)&&(ep=y(Ko),En^=1),new l(Hr,ep,En)}return{seed:Lt,k2sig:nu}}let O={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};function F(S,M,R=O){let{seed:U,k2sig:L}=B(S,M,R),N=t;return Lu(N.hash.outputLen,N.nByteLength,N.hmac)(U,L)}c.BASE._setWindowSize(8);function X(S,M,R,U=z){let L=S;M=ye("msgHash",M),R=ye("publicKey",R);let{lowS:N,prehash:V,format:ue}=U;if(Xm(U),"strict"in U)throw new Error("options.strict was renamed to lowS");if(ue!==void 0&&ue!=="compact"&&ue!=="der")throw new Error("format must be compact or der");let ze=typeof L=="string"||gr(L),je=!ze&&!ue&&typeof L=="object"&&L!==null&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!ze&&!je)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Ae,Lt;try{if(je&&(Ae=new l(L.r,L.s)),ze){try{ue!=="compact"&&(Ae=l.fromDER(L))}catch(En){if(!(En instanceof Kt.Err))throw En}!Ae&&ue!=="der"&&(Ae=l.fromCompact(L))}Lt=c.fromHex(R)}catch{return!1}if(!Ae||N&&Ae.hasHighS())return!1;V&&(M=t.hash(M));let{r:vt,s:nu}=Ae,Fr=T(M),vn=a(nu),ou=i(Fr*vn),Zo=i(vt*vn),Hr=c.BASE.multiplyAndAddUnsafe(Lt,ou,Zo)?.toAffine();return Hr?i(Hr.x)===vt:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:v,sign:F,verify:X,ProjectivePoint:c,Signature:l,utils:h}}function Cx(e,t){let r=e.ORDER,n=yt;for(let y=r-J;y%vr===yt;y/=vr)n+=J;let o=n,s=vr<<o-J-J,i=s*vr,a=(r-J)/i,c=(a-J)/vr,u=i-J,p=s,m=e.pow(t,a),f=e.pow(t,(a+J)/vr),d=(y,b)=>{let l=m,h=e.pow(b,u),x=e.sqr(h);x=e.mul(x,b);let w=e.mul(y,x);w=e.pow(w,c),w=e.mul(w,h),h=e.mul(w,b),x=e.mul(w,y);let v=e.mul(x,h);w=e.pow(v,p);let I=e.eql(w,e.ONE);h=e.mul(x,f),w=e.mul(v,l),x=e.cmov(h,x,I),v=e.cmov(w,v,I);for(let T=o;T>J;T--){let A=T-vr;A=vr<<A-J;let P=e.pow(v,A),B=e.eql(P,e.ONE);h=e.mul(x,l),l=e.mul(l,l),P=e.mul(v,l),x=e.cmov(h,x,B),v=e.cmov(P,v,B)}return{isValid:I,value:x}};if(e.ORDER%Qm===Ea){let y=(e.ORDER-Ea)/Qm,b=e.sqrt(e.neg(t));d=(l,h)=>{let x=e.sqr(h),w=e.mul(l,h);x=e.mul(x,w);let v=e.pow(x,y);v=e.mul(v,w);let I=e.mul(v,b),T=e.mul(e.sqr(v),h),A=e.eql(T,l),P=e.cmov(I,v,A);return{isValid:A,value:P}}}return d}function td(e,t){if(ga(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=Cx(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let o,s,i,a,c,u,p,m;o=e.sqr(n),o=e.mul(o,t.Z),s=e.sqr(o),s=e.add(s,o),i=e.add(s,e.ONE),i=e.mul(i,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(i),u=e.sqr(a),c=e.mul(u,t.A),s=e.add(s,c),s=e.mul(s,i),u=e.mul(u,a),c=e.mul(u,t.B),s=e.add(s,c),p=e.mul(o,i);let{isValid:f,value:d}=r(s,u);m=e.mul(o,n),m=e.mul(m,d),p=e.cmov(p,i,f),m=e.cmov(m,d,f);let y=e.isOdd(n)===e.isOdd(m);return m=e.cmov(e.neg(m),m,y),p=e.div(p,a),{x:p,y:m}}}var Bx,Px,Yu,Kt,yt,J,vr,Ea,Qm,Ju=E(()=>{Jm();Ms();on();on();({bytesToNumberBE:Bx,hexToBytes:Px}=_u),Yu=class extends Error{constructor(t=""){super(t)}},Kt={Err:Yu,_tlv:{encode:(e,t)=>{let{Err:r}=Kt;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,o=rn(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?rn(o.length/2|128):"";return rn(e)+s+o+t},decode(e,t){let{Err:r}=Kt,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let o=t[n++],s=!!(o&128),i=0;if(!s)i=o;else{let c=o&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let u=t.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let p of u)i=i<<8|p;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=Kt;if(e<yt)throw new t("integer: negative integers are not allowed");let r=rn(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Kt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Bx(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Kt,o=typeof e=="string"?Px(e):e;Qe(o);let{v:s,l:i}=n.decode(48,o);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,s),{v:u,l:p}=n.decode(2,c);if(p.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){let{_tlv:t,_int:r}=Kt,n=t.encode(2,r.encode(e.r)),o=t.encode(2,r.encode(e.s)),s=n+o;return t.encode(48,s)}},yt=BigInt(0),J=BigInt(1),vr=BigInt(2),Ea=BigInt(3),Qm=BigInt(4)});function Rx(e){return{hash:e,hmac:(t,...r)=>zu(e,t,Qp(...r)),randomBytes:Oi}}function rd(e,t){let r=n=>ed({...e,...Rx(n)});return{...r(t),create:r}}var nd=E(()=>{Um();jr();Ju();});function Er(e,t){if(Ns(e),Ns(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function Nx(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Ns(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function $x(e,t,r,n){Qe(e),Qe(t),Ns(r),t.length>255&&(t=n(Pe(Cs("H2C-OVERSIZE-DST-"),t)));let{outputLen:o,blockLen:s}=n,i=Math.ceil(r/o);if(r>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=Pe(t,Er(t.length,1)),c=Er(0,s),u=Er(r,2),p=new Array(i),m=n(Pe(c,e,u,Er(0,1),a));p[0]=n(Pe(m,Er(1,1),a));for(let d=1;d<=i;d++){let y=[Nx(m,p[d-1]),Er(d+1,1),a];p[d]=n(Pe(...y))}return Pe(...p).slice(0,r)}function zx(e,t,r,n,o){if(Qe(e),Qe(t),Ns(r),t.length>255){let s=Math.ceil(2*n/8);t=o.create({dkLen:s}).update(Cs("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(Er(r,2)).update(t).update(Er(t.length,1)).digest()}function od(e,t,r){Mt(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:o,m:s,hash:i,expand:a,DST:c}=r;Qe(e),Ns(t);let u=typeof c=="string"?Cs(c):c,p=n.toString(2).length,m=Math.ceil((p+o)/8),f=t*s*m,d;if(a==="xmd")d=$x(e,u,f,i);else if(a==="xof")d=zx(e,u,f,o,i);else if(a==="_internal_pass")d=e;else throw new Error('expand must be "xmd" or "xof"');let y=new Array(t);for(let b=0;b<t;b++){let l=new Array(s);for(let h=0;h<s;h++){let x=m*(h+b*s),w=d.subarray(x,x+m);l[h]=pe(Mx(w),n)}y[b]=l}return y}function sd(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,o)=>{let[s,i,a,c]=r.map(u=>u.reduce((p,m)=>e.add(e.mul(p,n),m)));return n=e.div(s,i),o=e.mul(o,e.div(a,c)),{x:n,y:o}}}function id(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,o){let s=od(n,2,{...r,DST:r.DST,...o}),i=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=i.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,o){let s=od(n,1,{...r,DST:r.encodeDST,...o}),i=e.fromAffine(t(s[0])).clearCofactor();return i.assertValidity(),i},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let s of n)if(typeof s!="bigint")throw new Error("mapToCurve: expected array of bigints");let o=e.fromAffine(t(n)).clearCofactor();return o.assertValidity(),o}}}var Mx,ad=E(()=>{Ms();on();Mx=Fe});var xd={};su(xd,{encodeToCurve:()=>jx,hashToCurve:()=>Dx,schnorr:()=>Ux,secp256k1:()=>an});function fd(e){let t=Os,r=BigInt(3),n=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,p=u*u*e%t,m=Ve(p,r,t)*p%t,f=Ve(m,r,t)*p%t,d=Ve(f,Ta,t)*u%t,y=Ve(d,o,t)*d%t,b=Ve(y,s,t)*y%t,l=Ve(b,a,t)*b%t,h=Ve(l,c,t)*l%t,x=Ve(h,a,t)*b%t,w=Ve(x,r,t)*p%t,v=Ve(w,i,t)*y%t,I=Ve(v,n,t)*u%t,T=Ve(I,Ta,t);if(!Ar.eql(Ar.sqr(T),e))throw new Error("Cannot find square root");return T}function Ia(e,...t){let r=ud[e];if(r===void 0){let n=Qr(Uint8Array.from(e,o=>o.charCodeAt(0)));r=Pe(n,n),ud[e]=r}return Qr(Pe(r,...t))}function ef(e){let t=an.utils.normPrivateKeyToScalar(e),r=rf.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:zs(-t),bytes:tf(r)}}function md(e){Rt("x",e,$s,Os);let t=Xu(e*e),r=Xu(t*e+BigInt(7)),n=fd(r);n%Ta!==pd&&(n=Xu(-n));let o=new rf(e,n,$s);return o.assertValidity(),o}function dd(...e){return zs(to(Ia("BIP0340/challenge",...e)))}function Fx(e){return ef(e).bytes}function Hx(e,t,r=Oi(32)){let n=ye("message",e),{bytes:o,scalar:s}=ef(t),i=ye("auxRand",r,32),a=Qu(s^to(Ia("BIP0340/aux",i))),c=Ia("BIP0340/nonce",a,o,n),u=zs(to(c));if(u===pd)throw new Error("sign failed: k is zero");let{bytes:p,scalar:m}=ef(u),f=dd(p,o,n),d=new Uint8Array(64);if(d.set(p,0),d.set(Qu(zs(m+f*s)),32),!ld(d,n,o))throw new Error("sign: Invalid signature produced");return d}function ld(e,t,r){let n=ye("signature",e,64),o=ye("message",t),s=ye("publicKey",r,32);try{let i=md(to(s)),a=to(n.subarray(0,32));if(!wr(a,$s,Os))return!1;let c=to(n.subarray(32,64));if(!wr(c,$s,Aa))return!1;let u=dd(Qu(a),tf(i),o),p=Ox(i,c,zs(-u));return!(!p||!p.hasEvenY()||p.toAffine().x!==a)}catch{return!1}}var Os,Aa,$s,Ta,cd,Ar,an,pd,ud,tf,Qu,Xu,zs,rf,Ox,to,Ux,Lx,_x,hd,Dx,jx,nf=E(()=>{$u();jr();nd();ad();Ms();on();Ju();Os=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Aa=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$s=BigInt(1),Ta=BigInt(2),cd=(e,t)=>(e+t/Ta)/t;Ar=wa(Os,void 0,void 0,{sqrt:fd}),an=rd({a:BigInt(0),b:BigInt(7),Fp:Ar,n:Aa,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=Aa,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-$s*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,i=BigInt("0x100000000000000000000000000000000"),a=cd(s*e,t),c=cd(-n*e,t),u=pe(e-a*r-c*o,t),p=pe(-a*n-c*s,t),m=u>i,f=p>i;if(m&&(u=t-u),f&&(p=t-p),u>i||p>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:u,k2neg:f,k2:p}}}},Qr),pd=BigInt(0),ud={};tf=e=>e.toRawBytes(!0).slice(1),Qu=e=>xt(e,32),Xu=e=>pe(e,Os),zs=e=>pe(e,Aa),rf=an.ProjectivePoint,Ox=(e,t,r)=>rf.BASE.multiplyAndAddUnsafe(e,t,r);to=Fe;Ux={getPublicKey:Fx,sign:Hx,verify:ld,utils:{randomPrivateKey:an.utils.randomPrivateKey,lift_x:md,pointToBytes:tf,numberToBytesBE:xt,bytesToNumberBE:Fe,taggedHash:Ia,mod:pe}},Lx=sd(Ar,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),_x=td(Ar,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Ar.create(BigInt("-11"))}),hd=id(an.ProjectivePoint,e=>{let{x:t,y:r}=_x(Ar.create(e[0]));return Lx(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Ar.ORDER,m:1,k:128,expand:"xmd",hash:Qr}),Dx=hd.hashToCurve,jx=hd.encodeToCurve});var Yt,et,ro,no,oo,so,io,ao,co,uo,Nt,tt,Tr=E(()=>{Hn();_();Yt=class extends g{constructor({cause:t,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}};Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});et=class extends g{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${xe(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}};Object.defineProperty(et,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});ro=class extends g{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${xe(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}};Object.defineProperty(ro,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});no=class extends g{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}};Object.defineProperty(no,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});oo=class extends g{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}};Object.defineProperty(oo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});so=class extends g{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}};Object.defineProperty(so,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});io=class extends g{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(io,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});ao=class extends g{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(ao,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});co=class extends g{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(co,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});uo=class extends g{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(uo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});Nt=class extends g{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${xe(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${xe(n)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}};Object.defineProperty(Nt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});tt=class extends g{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}});function Ir(e,t){let r=(e.details||"").toLowerCase(),n=e instanceof g?e.walk(o=>o?.code===Yt.code):e;return n instanceof g?new Yt({cause:e,message:n.details}):Yt.nodeMessage.test(r)?new Yt({cause:e,message:e.details}):et.nodeMessage.test(r)?new et({cause:e,maxFeePerGas:t?.maxFeePerGas}):ro.nodeMessage.test(r)?new ro({cause:e,maxFeePerGas:t?.maxFeePerGas}):no.nodeMessage.test(r)?new no({cause:e,nonce:t?.nonce}):oo.nodeMessage.test(r)?new oo({cause:e,nonce:t?.nonce}):so.nodeMessage.test(r)?new so({cause:e,nonce:t?.nonce}):io.nodeMessage.test(r)?new io({cause:e}):ao.nodeMessage.test(r)?new ao({cause:e,gas:t?.gas}):co.nodeMessage.test(r)?new co({cause:e,gas:t?.gas}):uo.nodeMessage.test(r)?new uo({cause:e}):Nt.nodeMessage.test(r)?new Nt({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new tt({cause:e})}var Fs=E(()=>{_();Tr()});function Br(e,{format:t}){if(!t)return{};let r={};function n(s){let i=Object.keys(s);for(let a of i)a in e&&(r[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}let o=t(e||{});return n(o),r}var Hs=E(()=>{});function fo(e,t){return({exclude:r,format:n})=>({exclude:r,format:o=>{let s=t(o);if(r)for(let i of r)delete s[i];return{...s,...n(o)}},type:e})}var ka=E(()=>{});function rt(e){let t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Wx(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(r=>j(r)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=C(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=C(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=C(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=C(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=C(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=C(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Vx[e.type]),typeof e.value<"u"&&(t.value=C(e.value)),t}function Wx(e){return e.map(t=>({address:t.address,r:t.r?C(BigInt(t.r)):t.r,s:t.s?C(BigInt(t.s)):t.s,chainId:C(t.chainId),nonce:C(t.nonce),...typeof t.yParity<"u"?{yParity:C(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:C(t.v)}:{}}))}var Vx,cn=E(()=>{H();Vx={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"}});function Ad(e){if(!(!e||e.length===0))return e.reduce((t,{slot:r,value:n})=>{if(r.length!==66)throw new ys({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new ys({size:n.length,targetSize:66,type:"hex"});return t[r]=n,t},{})}function Zx(e){let{balance:t,nonce:r,state:n,stateDiff:o,code:s}=e,i={};if(s!==void 0&&(i.code=s),t!==void 0&&(i.balance=C(t)),r!==void 0&&(i.nonce=C(r)),n!==void 0&&(i.state=Ad(n)),o!==void 0){if(i.state)throw new Qi;i.stateDiff=Ad(o)}return i}function po(e){if(!e)return;let t={};for(let{address:r,...n}of e){if(!Y(r,{strict:!1}))throw new ee({address:r});if(t[r])throw new Xi({address:r});t[r]=Zx(n)}return t}var Ca=E(()=>{At();Bi();Mu();lt();H()});var ZE,KE,YE,JE,XE,QE,e5,t5,r5,n5,o5,s5,i5,a5,c5,u5,f5,p5,m5,d5,l5,h5,x5,y5,b5,g5,w5,v5,E5,A5,T5,I5,B5,P5,S5,k5,C5,R5,M5,N5,$5,z5,O5,F5,H5,U5,L5,_5,D5,j5,q5,G5,V5,W5,Z5,K5,Y5,J5,X5,Q5,eA,tA,rA,nA,oA,sA,iA,aA,cA,uA,fA,pA,mA,dA,lA,hA,xA,yA,bA,gA,wA,vA,EA,AA,TA,IA,BA,PA,SA,kA,CA,RA,MA,NA,$A,mo,of=E(()=>{ZE=2n**(8n-1n)-1n,KE=2n**(16n-1n)-1n,YE=2n**(24n-1n)-1n,JE=2n**(32n-1n)-1n,XE=2n**(40n-1n)-1n,QE=2n**(48n-1n)-1n,e5=2n**(56n-1n)-1n,t5=2n**(64n-1n)-1n,r5=2n**(72n-1n)-1n,n5=2n**(80n-1n)-1n,o5=2n**(88n-1n)-1n,s5=2n**(96n-1n)-1n,i5=2n**(104n-1n)-1n,a5=2n**(112n-1n)-1n,c5=2n**(120n-1n)-1n,u5=2n**(128n-1n)-1n,f5=2n**(136n-1n)-1n,p5=2n**(144n-1n)-1n,m5=2n**(152n-1n)-1n,d5=2n**(160n-1n)-1n,l5=2n**(168n-1n)-1n,h5=2n**(176n-1n)-1n,x5=2n**(184n-1n)-1n,y5=2n**(192n-1n)-1n,b5=2n**(200n-1n)-1n,g5=2n**(208n-1n)-1n,w5=2n**(216n-1n)-1n,v5=2n**(224n-1n)-1n,E5=2n**(232n-1n)-1n,A5=2n**(240n-1n)-1n,T5=2n**(248n-1n)-1n,I5=2n**(256n-1n)-1n,B5=-(2n**(8n-1n)),P5=-(2n**(16n-1n)),S5=-(2n**(24n-1n)),k5=-(2n**(32n-1n)),C5=-(2n**(40n-1n)),R5=-(2n**(48n-1n)),M5=-(2n**(56n-1n)),N5=-(2n**(64n-1n)),$5=-(2n**(72n-1n)),z5=-(2n**(80n-1n)),O5=-(2n**(88n-1n)),F5=-(2n**(96n-1n)),H5=-(2n**(104n-1n)),U5=-(2n**(112n-1n)),L5=-(2n**(120n-1n)),_5=-(2n**(128n-1n)),D5=-(2n**(136n-1n)),j5=-(2n**(144n-1n)),q5=-(2n**(152n-1n)),G5=-(2n**(160n-1n)),V5=-(2n**(168n-1n)),W5=-(2n**(176n-1n)),Z5=-(2n**(184n-1n)),K5=-(2n**(192n-1n)),Y5=-(2n**(200n-1n)),J5=-(2n**(208n-1n)),X5=-(2n**(216n-1n)),Q5=-(2n**(224n-1n)),eA=-(2n**(232n-1n)),tA=-(2n**(240n-1n)),rA=-(2n**(248n-1n)),nA=-(2n**(256n-1n)),oA=2n**8n-1n,sA=2n**16n-1n,iA=2n**24n-1n,aA=2n**32n-1n,cA=2n**40n-1n,uA=2n**48n-1n,fA=2n**56n-1n,pA=2n**64n-1n,mA=2n**72n-1n,dA=2n**80n-1n,lA=2n**88n-1n,hA=2n**96n-1n,xA=2n**104n-1n,yA=2n**112n-1n,bA=2n**120n-1n,gA=2n**128n-1n,wA=2n**136n-1n,vA=2n**144n-1n,EA=2n**152n-1n,AA=2n**160n-1n,TA=2n**168n-1n,IA=2n**176n-1n,BA=2n**184n-1n,PA=2n**192n-1n,SA=2n**200n-1n,kA=2n**208n-1n,CA=2n**216n-1n,RA=2n**224n-1n,MA=2n**232n-1n,NA=2n**240n-1n,$A=2n**248n-1n,mo=2n**256n-1n});function He(e){let{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:o,to:s}=e,i=t?D(t):void 0;if(i&&!Y(i.address))throw new ee({address:i.address});if(s&&!Y(s))throw new ee({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof o<"u"))throw new ea;if(n&&n>mo)throw new et({maxFeePerGas:n});if(o&&n&&o>n)throw new Nt({maxFeePerGas:n,maxPriorityFeePerGas:o})}var Pr=E(()=>{he();of();At();Tr();ht();lt()});function $t(e,t){if(!Y(e,{strict:!1}))throw new ee({address:e});if(!Y(t,{strict:!1}))throw new ee({address:t});return e.toLowerCase()===t.toLowerCase()}var vo=E(()=>{At();lt()});function Ue(e){let{abi:t,args:r,functionName:n,data:o}=e,s=t[0];if(n){let a=Bt({abi:t,args:r,name:n});if(!a)throw new or(n,{docsPath:uf});s=a}if(s.type!=="function")throw new or(void 0,{docsPath:uf});if(!s.outputs)throw new gi(s.name,{docsPath:uf});let i=Vr(s.outputs,o);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}var uf,Cr=E(()=>{de();Zi();Nn();uf="/docs/contract/decodeFunctionResult"});var _s,Nd,Da,$d,ff,pf,mf,fn=E(()=>{_s=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Nd=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Da=[...Nd,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],$d=[...Nd,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],ff=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],pf=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],mf=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]});var zd,Od=E(()=>{zd="0x82ad56cb"});var ja,Fd,Hd,qa=E(()=>{ja="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Fd="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Hd="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"});var pn,Ga,Va,Ds,mn,js=E(()=>{_();pn=class extends g{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},Ga=class extends g{constructor({chain:t,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${t.id} \u2013 ${t.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t.id} \u2013 ${t.name}`],name:"ChainMismatchError"})}},Va=class extends g{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},Ds=class extends g{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}},mn=class extends g{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}});function dn(e){let{abi:t,args:r,bytecode:n}=e;if(!r||r.length===0)return n;let o=t.find(i=>"type"in i&&i.type==="constructor");if(!o)throw new li({docsPath:df});if(!("inputs"in o))throw new ds({docsPath:df});if(!o.inputs||o.inputs.length===0)throw new ds({docsPath:df});let s=Ie(o.inputs,r);return Te([n,s])}var df,Wa=E(()=>{de();Ye();Vt();df="/docs/contract/encodeDeployData"});function ot({blockNumber:e,chain:t,contract:r}){let n=t?.contracts?.[r];if(!n)throw new pn({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new pn({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}var ln=E(()=>{js()});function Za(e,{docsPath:t,...r}){let n=(()=>{let o=Ir(e,r);return o instanceof tt?e:o})();return new _n(n,{docsPath:t,...r})}var lf=E(()=>{dr();Tr();Fs()});function Ka(){let e=()=>{},t=()=>{};return{promise:new Promise((n,o)=>{e=n,t=o}),resolve:e,reject:t}}var hf=E(()=>{});function Ya({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:o}){let s=async()=>{let p=c();i();let m=p.map(({args:f})=>f);m.length!==0&&e(m).then(f=>{o&&Array.isArray(f)&&f.sort(o);for(let d=0;d<p.length;d++){let{resolve:y}=p[d];y?.([f[d],f])}}).catch(f=>{for(let d=0;d<p.length;d++){let{reject:y}=p[d];y?.(f)}})},i=()=>xf.delete(t),a=()=>c().map(({args:p})=>p),c=()=>xf.get(t)||[],u=p=>xf.set(t,[...c(),p]);return{flush:i,async schedule(p){let{promise:m,resolve:f,reject:d}=Ka();return r?.([...a(),p])&&s(),c().length>0?(u({args:p,resolve:f,reject:d}),m):(u({args:p,resolve:f,reject:d}),setTimeout(s,n),m)}}}var xf,yf=E(()=>{hf();xf=new Map});var Ja,Xa,Qa,Ud=E(()=>{$e();_();ia();Ja=class extends g{constructor({callbackSelector:t,cause:r,data:n,extraData:o,sender:s,urls:i}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Zr(a)}`)],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${t}`,`  Extra data: ${o}`].flat(),name:"OffchainLookupError"})}},Xa=class extends g{constructor({result:t,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Zr(r)}`,`Response: ${q(t)}`],name:"OffchainLookupResponseMalformedError"})}},Qa=class extends g{constructor({sender:t,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}});var Dd={};su(Dd,{ccipRequest:()=>_d,offchainLookup:()=>ty,offchainLookupAbiItem:()=>Ld,offchainLookupSignature:()=>ey});async function ty(e,{blockNumber:t,blockTag:r,data:n,to:o}){let{args:s}=Ki({data:n,abi:[Ld]}),[i,a,c,u,p]=s,{ccipRead:m}=e,f=m&&typeof m?.request=="function"?m.request:_d;try{if(!$t(o,i))throw new Qa({sender:i,to:o});let d=await f({data:c,sender:i,urls:a}),{data:y}=await zt(e,{blockNumber:t,blockTag:r,data:Ne([u,Ie([{type:"bytes"},{type:"bytes"}],[d,p])]),to:o});return y}catch(d){throw new Ja({callbackSelector:u,cause:d,data:n,extraData:p,sender:i,urls:a})}}async function _d({data:e,sender:t,urls:r}){let n=new Error("An unknown error occurred.");for(let o=0;o<r.length;o++){let s=r[o],i=s.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{let u=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i}),p;if(u.headers.get("Content-Type")?.startsWith("application/json")?p=(await u.json()).data:p=await u.text(),!u.ok){n=new Xe({body:a,details:p?.error?q(p.error):u.statusText,headers:u.headers,status:u.status,url:s});continue}if(!Q(p)){n=new Xa({result:p,url:s});continue}return p}catch(u){n=new Xe({body:a,details:u.message,url:s})}}throw n}var ey,Ld,jd=E(()=>{Io();Ud();Yr();Su();Vt();vo();Ye();We();$e();ey="0x556f1830",Ld={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function zt(e,t){let{account:r=e.account,batch:n=!!e.batch?.multicall,blockNumber:o,blockTag:s="latest",accessList:i,blobs:a,code:c,data:u,factory:p,factoryData:m,gas:f,gasPrice:d,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:l,nonce:h,to:x,value:w,stateOverride:v,...I}=t,T=r?D(r):void 0;if(c&&(p||m))throw new g("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&x)throw new g("Cannot provide both `code` & `to` as parameters.");let A=c&&u,P=p&&m&&x&&u,B=A||P,O=A?oy({code:c,data:u}):P?sy({data:u,factory:p,factoryData:m,to:x}):u;try{He(t);let F=(o?C(o):void 0)||s,X=po(v),S=e.chain?.formatters?.transactionRequest?.format,R=(S||rt)({...Br(I,{format:S}),from:T?.address,accessList:i,blobs:a,data:O,gas:f,gasPrice:d,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:l,nonce:h,to:B?void 0:x,value:w});if(n&&ry({request:R})&&!X)try{return await ny(e,{...R,blockNumber:o,blockTag:s})}catch(L){if(!(L instanceof Ds)&&!(L instanceof pn))throw L}let U=await e.request({method:"eth_call",params:X?[R,F,X]:[R,F]});return U==="0x"?{data:void 0}:{data:U}}catch(z){let F=iy(z),{offchainLookup:X,offchainLookupSignature:S}=await Promise.resolve().then(()=>(jd(),Dd));if(e.ccipRead!==!1&&F?.slice(0,10)===S&&x)return{data:await X(e,{data:F,to:x})};throw B&&F?.slice(0,10)==="0x101bb98d"?new ua({factory:p}):Za(z,{...t,account:T,chain:e.chain})}}function ry({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith(zd)||!r||Object.values(n).filter(o=>typeof o<"u").length>0)}async function ny(e,t){let{batchSize:r=1024,wait:n=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:s="latest",data:i,multicallAddress:a,to:c}=t,u=a;if(!u){if(!e.chain)throw new Ds;u=ot({blockNumber:o,chain:e.chain,contract:"multicall3"})}let m=(o?C(o):void 0)||s,{schedule:f}=Ya({id:`${e.uid}.${m}`,wait:n,shouldSplitBatch(b){return b.reduce((h,{data:x})=>h+(x.length-2),0)>r*2},fn:async b=>{let l=b.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),h=oe({abi:_s,args:[l],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{data:h,to:u},m]});return Ue({abi:_s,args:[l],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:d,success:y}]=await f({data:i,to:c});if(!y)throw new kt({data:d});return d==="0x"?{data:void 0}:{data:d}}function oy(e){let{code:t,data:r}=e;return dn({abi:Lr(["constructor(bytes, bytes)"]),bytecode:ja,args:[t,r]})}function sy(e){let{data:t,factory:r,factoryData:n,to:o}=e;return dn({abi:Lr(["constructor(address, bytes, address, bytes)"]),bytecode:Fd,args:[o,t,r,n]})}function iy(e){if(!(e instanceof g))return;let t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}var Io=E(()=>{ps();he();fn();Od();qa();_();js();dr();Cr();Wa();Je();ln();H();lf();Hs();cn();yf();Ca();Pr()});var tp="https://emulator.rives.io",ni="721f735bbca3",rp="721f735bbca3721f735bbca396345ea884a19e7d0a37ff849a6573525f741813",np="721f735bbca3721f735bbca3cfee7c08a98f4b56",op="https://app.rives.io/data/cartridges",sp="https://app.rives.io/tapes-data",ip="0x2105";ps();function k(e,t,r){let n=e[t.name];if(typeof n=="function")return n;let o=e[r];return typeof o=="function"?o:s=>t(e,s)}de();_();var Ii=class extends g{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}};le();dt();As();Vt();_r();Nn();var ym="/docs/contract/encodeEventTopics";function Pt(e){let{abi:t,eventName:r,args:n}=e,o=t[0];if(r){let c=Bt({abi:t,name:r});if(!c)throw new ls(r,{docsPath:ym});o=c}if(o.type!=="event")throw new ls(void 0,{docsPath:ym});let s=Re(o),i=pr(s),a=[];if(n&&"inputs"in o){let c=o.inputs?.filter(p=>"indexed"in p&&p.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?c?.map(p=>n[p.name])??[]:[];u.length>0&&(a=c?.map((p,m)=>Array.isArray(u[m])?u[m].map((f,d)=>bm({param:p,value:u[m][d]})):typeof u[m]<"u"&&u[m]!==null?bm({param:p,value:u[m]}):null)??[])}return[i,...a]}function bm({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return K(Ke(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ii(e.type);return Ie([e],[t])}H();function mr(e,{method:t}){let r={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:n,response:o,status:s,transport:i})=>{s==="success"&&t===n&&(r[o]=i.request)}),n=>r[n]||e.request}async function ji(e,t){let{address:r,abi:n,args:o,eventName:s,fromBlock:i,strict:a,toBlock:c}=t,u=mr(e,{method:"eth_newFilter"}),p=s?Pt({abi:n,args:o,eventName:s}):void 0,m=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof i=="bigint"?C(i):i,toBlock:typeof c=="bigint"?C(c):c,topics:p}]});return{abi:n,args:o,eventName:s,id:m,request:u(m),strict:!!a,type:"event"}}he();Je();de();_();dr();Yr();ks();var nx=3;function Ge(e,{abi:t,address:r,args:n,docsPath:o,functionName:s,sender:i}){let a=e instanceof kt?e:e instanceof g?e.walk(y=>"data"in y)||e.walk():{},{code:c,data:u,details:p,message:m,shortMessage:f}=a,d=e instanceof Ze?new ca({functionName:s}):[nx,Wt.code].includes(c)&&(u||p||m||f)?new Kr({abi:t,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof lr?p:f??m}):e;return new aa(d,{abi:t,args:n,contractAddress:r,docsPath:o,functionName:s,sender:i})}he();_();qr();dt();function zm(e){let t=K(`0x${e.substring(4)}`).substring(26);return qt(`0x${t}`)}We();ve();H();async function bd({hash:e,signature:t}){let r=Q(e)?e:$(e),{secp256k1:n}=await Promise.resolve().then(()=>(nf(),xd));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){let{r:u,s:p,v:m,yParity:f}=t,d=Number(f??m),y=yd(d);return new n.Signature(re(u),re(p)).addRecoveryBit(y)}let i=Q(t)?t:$(t),a=se(`0x${i.slice(130)}`),c=yd(a);return n.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function yd(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ba({hash:e,signature:t}){return zm(await bd({hash:e,signature:t}))}Ye();le();H();_();Wi();le();H();function bt(e,t="hex"){let r=gd(e),n=zn(new Uint8Array(r.length));return r.encode(n),t==="hex"?j(n.bytes):n.bytes}function gd(e){return Array.isArray(e)?qx(e.map(t=>gd(t))):Gx(e)}function qx(e){let t=e.reduce((o,s)=>o+s.length,0),r=wd(t);return{length:t<=55?1+t:1+r+t,encode(o){t<=55?o.pushByte(192+t):(o.pushByte(247+r),r===1?o.pushUint8(t):r===2?o.pushUint16(t):r===3?o.pushUint24(t):o.pushUint32(t));for(let{encode:s}of e)s(o)}}}function Gx(e){let t=typeof e=="string"?ie(e):e,r=wd(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(o){t.length===1&&t[0]<128?o.pushBytes(t):t.length<=55?(o.pushByte(128+t.length),o.pushBytes(t)):(o.pushByte(183+r),r===1?o.pushUint8(t.length):r===2?o.pushUint16(t.length):r===3?o.pushUint24(t.length):o.pushUint32(t.length),o.pushBytes(t))}}}function wd(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new g("Length is too large.")}dt();function vd(e){let{chainId:t,nonce:r,to:n}=e,o=e.contractAddress??e.address,s=K(Te(["0x05",bt([t?C(t):"0x",o,r?C(r):"0x"])]));return n==="bytes"?ie(s):s}async function Pa(e){let{authorization:t,signature:r}=e;return Ba({hash:vd(t),signature:r??t})}H();Ji();Hn();_();ht();var Sa=class extends g{constructor(t,{account:r,docsPath:n,chain:o,data:s,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:p,to:m,value:f}){let d=Wr({from:r?.address,to:m,value:typeof f<"u"&&`${Fn(f)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:i,gasPrice:typeof a<"u"&&`${xe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${xe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${xe(u)} gwei`,nonce:p});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}};Tr();Fs();function Ed(e,{docsPath:t,...r}){let n=(()=>{let o=Ir(e,r);return o instanceof tt?e:o})();return new Sa(n,{docsPath:t,...r})}Hs();cn();Ca();Pr();he();Hn();_();var Ra=class extends g{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},Sr=class extends g{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},Ma=class extends g{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${xe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}};ve();_();var lo=class extends g{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}};H();ka();ve();ka();var sf={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function un(e){let t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?se(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?se(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?sf[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Kx(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}var Td=fo("transaction",un);function Kx(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Us(e){let t=(e.transactions??[]).map(r=>typeof r=="string"?r:un(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}var Id=fo("block",Us);async function Se(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:o}={}){let s=n??"latest",i=o??!1,a=r!==void 0?C(r):void 0,c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||s,i]},{dedupe:!!a}),!c)throw new lo({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||Us)(c)}async function ho(e){let t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Bd(e,t){return af(e,t)}async function af(e,t){let{block:r,chain:n=e.chain,request:o}=t||{};try{let s=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if(typeof s=="function"){let a=r||await k(e,Se,"getBlock")({}),c=await s({block:a,client:e,request:o});if(c===null)throw new Error;return c}if(typeof s<"u")return s;let i=await e.request({method:"eth_maxPriorityFeePerGas"});return re(i)}catch{let[s,i]=await Promise.all([r?Promise.resolve(r):k(e,Se,"getBlock")({}),k(e,ho,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new Sr;let a=i-s.baseFeePerGas;return a<0n?0n:a}}async function Pd(e,t){return Na(e,t)}async function Na(e,t){let{block:r,chain:n=e.chain,request:o,type:s="eip1559"}=t||{},i=await(async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:e,request:o}):n?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Ra;let c=10**(i.toString().split(".")[1]?.length??0),u=f=>f*BigInt(Math.ceil(i*c))/BigInt(c),p=r||await k(e,Se,"getBlock")({});if(typeof n?.fees?.estimateFeesPerGas=="function"){let f=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:u,request:o,type:s});if(f!==null)return f}if(s==="eip1559"){if(typeof p.baseFeePerGas!="bigint")throw new Sr;let f=typeof o?.maxPriorityFeePerGas=="bigint"?o.maxPriorityFeePerGas:await af(e,{block:p,chain:n,request:o}),d=u(p.baseFeePerGas);return{maxFeePerGas:o?.maxFeePerGas??d+f,maxPriorityFeePerGas:f}}return{gasPrice:o?.gasPrice??u(await k(e,ho,"getGasPrice")({}))}}ve();H();async function xo(e,{address:t,blockTag:r="latest",blockNumber:n}){let o=await e.request({method:"eth_getTransactionCount",params:[t,n?C(n):r]},{dedupe:!!n});return se(o)}le();H();function yo(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(s=>ie(s)):e.blobs,o=[];for(let s of n)o.push(Uint8Array.from(t.blobToKzgCommitment(s)));return r==="bytes"?o:o.map(s=>j(s))}le();H();function bo(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(i=>ie(i)):e.blobs,o=typeof e.commitments[0]=="string"?e.commitments.map(i=>ie(i)):e.commitments,s=[];for(let i=0;i<n.length;i++){let a=n[i],c=o[i];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return r==="bytes"?s:s.map(i=>j(i))}H();$u();We();le();H();function Ls(e,t){let r=t||"hex",n=Qr(Q(e,{strict:!1})?Ke(e):e);return r==="bytes"?n:$(n)}function Sd(e){let{commitment:t,version:r=1}=e,n=e.to??(typeof t=="string"?"hex":"bytes"),o=Ls(t,"bytes");return o.set([r],0),n==="bytes"?o:j(o)}function $a(e){let{commitments:t,version:r}=e,n=e.to??(typeof t[0]=="string"?"hex":"bytes"),o=[];for(let s of t)o.push(Sd({commitment:s,to:n,version:r}));return o}_();var za=class extends g{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}},go=class extends g{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},Oa=class extends g{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}},Fa=class extends g{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}};Wi();ct();le();H();function kd(e){let t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?ie(e.data):e.data,n=W(r);if(!n)throw new go;if(n>761855)throw new za({maxSize:761855,size:n});let o=[],s=!0,i=0;for(;s;){let a=zn(new Uint8Array(131072)),c=0;for(;c<4096;){let u=r.slice(i,i+31);if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),s=!1;break}c++,i+=31}o.push(a)}return t==="bytes"?o.map(a=>a.bytes):o.map(a=>j(a.bytes))}function Ha(e){let{data:t,kzg:r,to:n}=e,o=e.blobs??kd({data:t,to:n}),s=e.commitments??yo({blobs:o,kzg:r,to:n}),i=e.proofs??bo({blobs:o,commitments:s,kzg:r,to:n}),a=[];for(let c=0;c<o.length;c++)a.push({blob:o[c],commitment:s[c],proof:i[c]});return a}Pr();ht();function Ua(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new ra({transaction:e})}ve();async function nt(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return se(t)}var cf=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Cd=new Map;async function kr(e,t){let{account:r=e.account,blobs:n,chain:o,gas:s,kzg:i,nonce:a,nonceManager:c,parameters:u=cf,type:p}=t,m=r&&D(r),f={...t,...m?{from:m?.address}:{}},d;async function y(){return d||(d=await k(e,Se,"getBlock")({blockTag:"latest"}),d)}let b;async function l(){return b||(o?o.id:typeof t.chainId<"u"?t.chainId:(b=await k(e,nt,"getChainId")({}),b))}if(u.includes("nonce")&&typeof a>"u"&&m)if(c){let h=await l();f.nonce=await c.consume({address:m.address,chainId:h,client:e})}else f.nonce=await k(e,xo,"getTransactionCount")({address:m.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&n&&i){let h=yo({blobs:n,kzg:i});if(u.includes("blobVersionedHashes")){let x=$a({commitments:h,to:"hex"});f.blobVersionedHashes=x}if(u.includes("sidecars")){let x=bo({blobs:n,commitments:h,kzg:i}),w=Ha({blobs:n,commitments:h,proofs:x,to:"hex"});f.sidecars=w}}if(u.includes("chainId")&&(f.chainId=await l()),(u.includes("fees")||u.includes("type"))&&typeof p>"u")try{f.type=Ua(f)}catch{let h=Cd.get(e.uid);typeof h>"u"&&(h=typeof(await y())?.baseFeePerGas=="bigint",Cd.set(e.uid,h)),f.type=h?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){let h=await y(),{maxFeePerGas:x,maxPriorityFeePerGas:w}=await Na(e,{block:h,chain:o,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new Ma({maxPriorityFeePerGas:w});f.maxPriorityFeePerGas=w,f.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Sr;if(typeof t.gasPrice>"u"){let h=await y(),{gasPrice:x}=await Na(e,{block:h,chain:o,request:f,type:"legacy"});f.gasPrice=x}}return u.includes("gas")&&typeof s>"u"&&(f.gas=await k(e,wo,"estimateGas")({...f,account:m&&{address:m.address,type:"json-rpc"}})),He(f),delete f.parameters,f}H();async function La(e,{address:t,blockNumber:r,blockTag:n="latest"}){let o=r?C(r):void 0,s=await e.request({method:"eth_getBalance",params:[t,o||n]});return BigInt(s)}async function wo(e,t){let{account:r=e.account}=t,n=r?D(r):void 0;try{let z=function(X){let{block:S,request:M,rpcStateOverride:R}=X;return e.request({method:"eth_estimateGas",params:R?[M,S??"latest",R]:S?[M,S]:[M]})},{accessList:o,authorizationList:s,blobs:i,blobVersionedHashes:a,blockNumber:c,blockTag:u,data:p,gas:m,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:l,value:h,stateOverride:x,...w}=await kr(e,{...t,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),I=(c?C(c):void 0)||u,T=po(x),A=await(async()=>{if(w.to)return w.to;if(s&&s.length>0)return await Pa({authorization:s[0]}).catch(()=>{throw new g("`to` is required. Could not infer from `authorizationList`")})})();He(t);let P=e.chain?.formatters?.transactionRequest?.format,O=(P||rt)({...Br(w,{format:P}),from:n?.address,accessList:o,authorizationList:s,blobs:i,blobVersionedHashes:a,data:p,gas:m,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:l,to:A,value:h}),F=BigInt(await z({block:I,request:O,rpcStateOverride:T}));if(s){let X=await La(e,{address:O.from}),S=await Promise.all(s.map(async M=>{let{address:R}=M,U=await z({block:I,request:{authorizationList:void 0,data:p,from:n?.address,to:R,value:C(X)},rpcStateOverride:T}).catch(()=>100000n);return 2n*BigInt(U)}));F+=S.reduce((M,R)=>M+R,0n)}return F}catch(o){throw Ed(o,{...t,account:n,chain:e.chain})}}async function Rd(e,t){let{abi:r,address:n,args:o,functionName:s,dataSuffix:i,...a}=t,c=oe({abi:r,args:o,functionName:s});try{return await k(e,wo,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:n,...a})}catch(u){let p=a.account?D(a.account):void 0;throw Ge(u,{abi:r,address:n,args:o,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:p?.address})}}Nn();de();vo();le();dt();As();de();ct();As();Bu();Zi();_r();var Md="/docs/contract/decodeEventLog";function Eo(e){let{abi:t,data:r,strict:n,topics:o}=e,s=n??!0,[i,...a]=o;if(!i)throw new bi({docsPath:Md});let c=t.length===1?t[0]:t.find(b=>b.type==="event"&&i===pr(Re(b)));if(!(c&&"name"in c)||c.type!=="event")throw new Cn(i,{docsPath:Md});let{name:u,inputs:p}=c,m=p?.some(b=>!("name"in b&&b.name)),f=m?[]:{},d=p.filter(b=>"indexed"in b&&b.indexed);for(let b=0;b<d.length;b++){let l=d[b],h=a[b];if(!h)throw new Et({abiItem:c,param:l});f[m?b:l.name||b]=Xx({param:l,value:h})}let y=p.filter(b=>!("indexed"in b&&b.indexed));if(y.length>0){if(r&&r!=="0x")try{let b=Vr(y,r);if(b)if(m)f=[...f,...b];else for(let l=0;l<y.length;l++)f[y[l].name]=b[l]}catch(b){if(s)throw b instanceof Sn||b instanceof $n?new ut({abiItem:c,data:r,params:y,size:W(r)}):b}else if(s)throw new ut({abiItem:c,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Xx({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Vr([e],t)||[])[0]}function Ao(e){let{abi:t,args:r,logs:n,strict:o=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(i=>{try{let a=t.find(u=>u.type==="event"&&i.topics[0]===pr(u));if(!a)return null;let c=Eo({...i,abi:[a],strict:o});return s&&!s.includes(c.eventName)||!Qx({args:c.args,inputs:a.inputs,matchArgs:r})?null:{...c,...i}}catch(a){let c,u;if(a instanceof Cn)return null;if(a instanceof ut||a instanceof Et){if(o)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(p=>!("name"in p&&p.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Qx(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function o(s,i,a){try{return s.type==="address"?$t(i,a):s.type==="string"||s.type==="bytes"?K(Ke(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((s,i)=>{if(s==null)return!0;let a=r[i];return a?(Array.isArray(s)?s:[s]).some(u=>o(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,i])=>{if(i==null)return!0;let a=r.find(u=>u.name===s);return a?(Array.isArray(i)?i:[i]).some(u=>o(a,u,t[s])):!1}):!1}H();function ke(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function To(e,{address:t,blockHash:r,fromBlock:n,toBlock:o,event:s,events:i,args:a,strict:c}={}){let u=c??!1,p=i??(s?[s]:void 0),m=[];p&&(m=[p.flatMap(b=>Pt({abi:[b],eventName:b.name,args:i?void 0:a}))],s&&(m=m[0]));let f;r?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:m,blockHash:r}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:m,fromBlock:typeof n=="bigint"?C(n):n,toBlock:typeof o=="bigint"?C(o):o}]});let d=f.map(y=>ke(y));return p?Ao({abi:p,args:a,logs:d,strict:u}):d}async function _a(e,t){let{abi:r,address:n,args:o,blockHash:s,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,p=i?Bt({abi:r,name:i}):void 0,m=p?void 0:r.filter(f=>f.type==="event");return k(e,To,"getLogs")({address:n,args:o,blockHash:s,event:p,events:m,fromBlock:a,toBlock:c,strict:u})}Cr();Je();Io();async function Ee(e,t){let{abi:r,address:n,args:o,functionName:s,...i}=t,a=oe({abi:r,args:o,functionName:s});try{let{data:c}=await k(e,zt,"call")({...i,data:a,to:n});return Ue({abi:r,args:o,functionName:s,data:c||"0x"})}catch(c){throw Ge(c,{abi:r,address:n,args:o,docsPath:"/docs/contract/readContract",functionName:s})}}he();Cr();Je();Io();async function qd(e,t){let{abi:r,address:n,args:o,dataSuffix:s,functionName:i,...a}=t,c=a.account?D(a.account):e.account,u=oe({abi:r,args:o,functionName:i});try{let{data:p}=await k(e,zt,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:n,...a,account:c}),m=Ue({abi:r,args:o,functionName:i,data:p||"0x"}),f=r.filter(d=>"name"in d&&d.name===t.functionName);return{result:m,request:{abi:f,address:n,args:o,dataSuffix:s,functionName:i,...a,account:c}}}catch(p){throw Ge(p,{abi:r,address:n,args:o,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}de();ks();var bf=new Map,Gd=new Map,ay=0;function Le(e,t,r){let n=++ay,o=()=>bf.get(e)||[],s=()=>{let p=o();bf.set(e,p.filter(m=>m.id!==n))},i=()=>{let p=o();if(!p.some(f=>f.id===n))return;let m=Gd.get(e);p.length===1&&m&&m(),s()},a=o();if(bf.set(e,[...a,{id:n,fns:t}]),a&&a.length>0)return i;let c={};for(let p in t)c[p]=(...m)=>{let f=o();if(f.length!==0)for(let d of f)d.fns[p]?.(...m)};let u=r(c);return typeof u=="function"&&Gd.set(e,u),i}async function qs(e){return new Promise(t=>setTimeout(t,e))}function Ot(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let o=!0,s=()=>o=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));let c=await r?.(a)??n;await qs(c);let u=async()=>{o&&(await e({unpoll:s}),await qs(n),u())};u()})(),s}$e();var cy=new Map,uy=new Map;function Vd(e){let t=(o,s)=>({clear:()=>s.delete(o),get:()=>s.get(o),set:i=>s.set(o,i)}),r=t(e,cy),n=t(e,uy);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function Wd(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){let n=Vd(t),o=n.response.get();if(o&&r>0&&new Date().getTime()-o.created.getTime()<r)return o.data;let s=n.promise.get();s||(s=e(),n.promise.set(s));try{let i=await s;return n.response.set({created:new Date,data:i}),i}finally{n.promise.clear()}}var fy=e=>`blockNumber.${e}`;async function Ft(e,{cacheTime:t=e.cacheTime}={}){let r=await Wd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:fy(e.uid),cacheTime:t});return BigInt(r)}async function Rr(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof n[0]=="string")return n;let o=n.map(s=>ke(s));return!("abi"in t)||!t.abi?o:Ao({abi:t.abi,logs:o,strict:r})}async function Mr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Zd(e,t){let{abi:r,address:n,args:o,batch:s=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:p,pollingInterval:m=e.pollingInterval,strict:f}=t;return(typeof p<"u"?p:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{let l=f??!1,h=q(["watchContractEvent",n,o,s,e.uid,i,m,l,a]);return Le(h,{onLogs:u,onError:c},x=>{let w;a!==void 0&&(w=a-1n);let v,I=!1,T=Ot(async()=>{if(!I){try{v=await k(e,ji,"createContractEventFilter")({abi:r,address:n,args:o,eventName:i,strict:l,fromBlock:a})}catch{}I=!0;return}try{let A;if(v)A=await k(e,Rr,"getFilterChanges")({filter:v});else{let P=await k(e,Ft,"getBlockNumber")({});w&&w<P?A=await k(e,_a,"getContractEvents")({abi:r,address:n,args:o,eventName:i,fromBlock:w+1n,toBlock:P,strict:l}):A=[],w=P}if(A.length===0)return;if(s)x.onLogs(A);else for(let P of A)x.onLogs([P])}catch(A){v&&A instanceof Ct&&(I=!1),x.onError?.(A)}},{emitOnBegin:!0,interval:m});return async()=>{v&&await k(e,Mr,"uninstallFilter")({filter:v}),T()}})})():(()=>{let l=f??!1,h=q(["watchContractEvent",n,o,s,e.uid,i,m,l]),x=!0,w=()=>x=!1;return Le(h,{onLogs:u,onError:c},v=>((async()=>{try{let I=(()=>{if(e.transport.type==="fallback"){let P=e.transport.transports.find(B=>B.config.type==="webSocket");return P?P.value:e.transport}return e.transport})(),T=i?Pt({abi:r,eventName:i,args:o}):[],{unsubscribe:A}=await I.subscribe({params:["logs",{address:n,topics:T}],onData(P){if(!x)return;let B=P.result;try{let{eventName:O,args:z}=Eo({abi:r,data:B.data,topics:B.topics,strict:f}),F=ke(B,{args:z,eventName:O});v.onLogs([F])}catch(O){let z,F;if(O instanceof ut||O instanceof Et){if(f)return;z=O.abiItem.name,F=O.abiItem.inputs?.some(S=>!("name"in S&&S.name))}let X=ke(B,{args:F?[]:{},eventName:z});v.onLogs([X])}},onError(P){v.onError?.(P)}});w=A,x||w()}catch(I){c?.(I)}})(),()=>w()))})()}he();_();var Ce=class extends g{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}},Nr=class extends g{constructor({docsPath:t,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:t,metaMessages:r,name:"AccountTypeNotSupportedError"})}};Je();he();_();js();function ec({chain:e,currentChainId:t}){if(!e)throw new Va;if(t!==e.id)throw new Ga({chain:e,currentChainId:t})}Tr();ht();Fs();function Kd(e,{docsPath:t,...r}){let n=(()=>{let o=Ir(e,r);return o instanceof tt?e:o})();return new oa(n,{docsPath:t,...r})}Hs();cn();Ts();Pr();async function Bo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}var gf=new Tt(128);async function Po(e,t){let{account:r=e.account,chain:n=e.chain,accessList:o,authorizationList:s,blobs:i,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:f,nonce:d,value:y,...b}=t;if(typeof r>"u")throw new Ce({docsPath:"/docs/actions/wallet/sendTransaction"});let l=r?D(r):null;try{He(t);let h=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await Pa({authorization:s[0]}).catch(()=>{throw new g("`to` is required. Could not infer from `authorizationList`.")})})();if(l?.type==="json-rpc"||l===null){let x;n!==null&&(x=await k(e,nt,"getChainId")({}),ec({currentChainId:x,chain:n}));let w=e.chain?.formatters?.transactionRequest?.format,I=(w||rt)({...Br(b,{format:w}),accessList:o,authorizationList:s,blobs:i,chainId:x,data:a,from:l?.address,gas:c,gasPrice:u,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:f,nonce:d,to:h,value:y}),T=gf.get(e.uid),A=T?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:A,params:[I]},{retryCount:0})}catch(P){if(T===!1)throw P;let B=P;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(O=>(gf.set(e.uid,!0),O)).catch(O=>{let z=O;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(gf.set(e.uid,!1),B):z});throw B}}if(l?.type==="local"){let x=await k(e,kr,"prepareTransactionRequest")({account:l,accessList:o,authorizationList:s,blobs:i,chain:n,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:f,nonce:d,nonceManager:l.nonceManager,parameters:[...cf,"sidecars"],value:y,...b,to:h}),w=n?.serializers?.transaction,v=await l.signTransaction(x,{serializer:w});return await k(e,Bo,"sendRawTransaction")({serializedTransaction:v})}throw l?.type==="smart"?new Nr({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Nr({docsPath:"/docs/actions/wallet/sendTransaction",type:l?.type})}catch(h){throw h instanceof Nr?h:Kd(h,{...t,account:l,chain:t.chain||void 0})}}async function Yd(e,t){let{abi:r,account:n=e.account,address:o,args:s,dataSuffix:i,functionName:a,...c}=t;if(typeof n>"u")throw new Ce({docsPath:"/docs/contract/writeContract"});let u=n?D(n):null,p=oe({abi:r,args:s,functionName:a});try{return await k(e,Po,"sendTransaction")({data:`${p}${i?i.replace("0x",""):""}`,to:o,account:u,...c})}catch(m){throw Ge(m,{abi:r,address:o,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:u?.address})}}_();var tc=class extends g{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}};async function Jd(e,t){let{address:r,factory:n,factoryData:o}=t;try{let[s,i,a,c,u,p,m]=await k(e,Ee,"readContract")({abi:py,address:r,functionName:"eip712Domain",factory:n,factoryData:o});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:p},extensions:m,fields:s}}catch(s){let i=s;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new tc({address:r}):i}}var py=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];H();async function Xd(e,{chain:t}){let{id:r,name:n,nativeCurrency:o,rpcUrls:s,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:C(r),chainName:n,nativeCurrency:o,rpcUrls:s.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}he();var rc=256,nc;function oc(e=11){if(!nc||rc+e>256*2){nc="",rc=0;for(let t=0;t<256;t++)nc+=(256+Math.random()*256|0).toString(16).substring(1)}return nc.substring(rc,rc+++e)}function sc(e){let{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:n,key:o="base",name:s="Base Client",pollingInterval:i=4e3,type:a="base"}=e,c=e.chain,u=e.account?D(e.account):void 0,{config:p,request:m,value:f}=e.transport({chain:c,pollingInterval:i}),d={...p,...f},y={account:u,batch:t,cacheTime:r,ccipRead:n,chain:c,key:o,name:s,pollingInterval:i,request:m,transport:d,type:a,uid:oc()};function b(l){return h=>{let x=h(l);for(let v in y)delete x[v];let w={...l,...x};return Object.assign(w,{extend:b(w)})}}return Object.assign(y,{extend:b(y)})}_();Yr();ks();H();Ts();var ic=new Tt(8192);function Qd(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(ic.get(r))return ic.get(r);let n=e().finally(()=>ic.delete(r));return ic.set(r,n),n}function Gs(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((o,s)=>{let i=async({count:a=0}={})=>{let c=async({error:u})=>{let p=typeof t=="function"?t({count:a,error:u}):t;p&&await qs(p),i({count:a+1})};try{let u=await e();o(u)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});s(u)}};i()})}$e();function el(e,t={}){return async(r,n={})=>{let{dedupe:o=!1,methods:s,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...n},{method:u}=r;if(s?.exclude?.includes(u))throw new xr(new Error("method not supported"),{method:u});if(s?.include&&!s.include.includes(u))throw new xr(new Error("method not supported"),{method:u});let p=o?ft(`${c}.${q(r)}`):void 0;return Qd(()=>Gs(async()=>{try{return await e(r)}catch(m){let f=m;switch(f.code){case Dn.code:throw new Dn(f);case jn.code:throw new jn(f);case qn.code:throw new qn(f,{method:r.method});case Gn.code:throw new Gn(f);case Wt.code:throw new Wt(f);case Ct.code:throw new Ct(f);case Vn.code:throw new Vn(f);case Wn.code:throw new Wn(f);case Zn.code:throw new Zn(f);case xr.code:throw new xr(f,{method:r.method});case Jr.code:throw new Jr(f);case Kn.code:throw new Kn(f);case Xr.code:throw new Xr(f);case Yn.code:throw new Yn(f);case Jn.code:throw new Jn(f);case Xn.code:throw new Xn(f);case Qn.code:throw new Qn(f);case eo.code:throw new eo(f);case 5e3:throw new Xr(f);default:throw m instanceof g?m:new fa(f)}}},{delay:({count:m,error:f})=>{if(f&&f instanceof Xe){let d=f?.headers?.get("Retry-After");if(d?.match(/\d/))return Number.parseInt(d)*1e3}return~~(1<<m)*i},retryCount:a,shouldRetry:({error:m})=>my(m)}),{enabled:o,id:p})}}function my(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Jr.code||e.code===Wt.code:e instanceof Xe&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ac({key:e,methods:t,name:r,request:n,retryCount:o=3,retryDelay:s=150,timeout:i,type:a},c){let u=oc();return{config:{key:e,methods:t,name:r,request:n,retryCount:o,retryDelay:s,timeout:i,type:a},request:el(n,{methods:t,retryCount:o,retryDelay:s,uid:u}),value:c}}function wf(e,t={}){let{key:r="custom",methods:n,name:o="Custom Provider",retryDelay:s}=t;return({retryCount:i})=>ac({key:r,methods:n,name:o,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:s,type:"custom"})}Yr();_();var cc=class extends g{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};yf();Yr();function tl(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise((o,s)=>{(async()=>{let i;try{let a=new AbortController;r>0&&(i=setTimeout(()=>{n?a.abort():s(t)},r)),o(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(t),s(a)}finally{clearTimeout(i)}})()})}$e();function dy(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var vf=dy();function rl(e,t={}){return{async request(r){let{body:n,onRequest:o=t.onRequest,onResponse:s=t.onResponse,timeout:i=t.timeout??1e4}=r,a={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:u,signal:p}=a;try{let m=await tl(async({signal:d})=>{let y={...a,body:Array.isArray(n)?q(n.map(x=>({jsonrpc:"2.0",id:x.id??vf.take(),...x}))):q({jsonrpc:"2.0",id:n.id??vf.take(),...n}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:p||(i>0?d:null)},b=new Request(e,y),l=await o?.(b,y)??{...y,url:e};return await fetch(l.url??e,l)},{errorInstance:new Ss({body:n,url:e}),timeout:i,signal:!0});s&&await s(m);let f;if(m.headers.get("Content-Type")?.startsWith("application/json"))f=await m.json();else{f=await m.text();try{f=JSON.parse(f||"{}")}catch(d){if(m.ok)throw d;f={error:f}}}if(!m.ok)throw new Xe({body:n,details:q(f.error)||m.statusText,headers:m.headers,status:m.status,url:e});return f}catch(m){throw m instanceof Xe||m instanceof Ss?m:new Xe({body:n,cause:m,url:e})}}}}function Ef(e,t={}){let{batch:r,fetchOptions:n,key:o="http",methods:s,name:i="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:p}=t;return({chain:m,retryCount:f,timeout:d})=>{let{batchSize:y=1e3,wait:b=0}=typeof r=="object"?r:{},l=t.retryCount??f,h=d??t.timeout??1e4,x=e||m?.rpcUrls.default.http[0];if(!x)throw new cc;let w=rl(x,{fetchOptions:n,onRequest:a,onResponse:c,timeout:h});return ac({key:o,methods:s,name:i,async request({method:v,params:I}){let T={method:v,params:I},{schedule:A}=Ya({id:x,wait:b,shouldSplitBatch(z){return z.length>y},fn:z=>w.request({body:z}),sort:(z,F)=>z.id-F.id}),P=async z=>r?A(z):[await w.request({body:z})],[{error:B,result:O}]=await P(T);if(p)return{error:B,result:O};if(B)throw new lr({body:T,error:B,url:x});return O},retryCount:l,retryDelay:u,timeout:h,type:"http"},{fetchOptions:n,url:x})}}fn();Cr();Je();ln();Mn();H();Gi();_();dr();function So(e,t){if(!(e instanceof g))return!1;let r=e.walk(n=>n instanceof Kr);return r instanceof Kr?!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.data?.errorName==="ResolverNotContract"||r.data?.errorName==="ResolverError"||r.data?.errorName==="HttpError"||r.reason?.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&r.reason===qi[50]):!1}Ye();le();H();dt();We();function uc(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;let t=`0x${e.slice(1,65)}`;return Q(t)?t:null}function ko(e){let t=new Uint8Array(32).fill(0);if(!e)return j(t);let r=e.split(".");for(let n=r.length-1;n>=0;n-=1){let o=uc(r[n]),s=o?Ke(o):K(pt(r[n]),"bytes");t=K(Ne([t,s]),"bytes")}return j(t)}le();function nl(e){return`[${e.slice(2)}]`}le();H();dt();function ol(e){let t=new Uint8Array(32).fill(0);return e?uc(e)||K(pt(e)):j(t)}function $r(e){let t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);let r=new Uint8Array(pt(t).byteLength+2),n=0,o=t.split(".");for(let s=0;s<o.length;s++){let i=pt(o[s]);i.byteLength>255&&(i=pt(nl(ol(o[s])))),r[n]=i.length,r.set(i,n+1),n+=i.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function sl(e,{blockNumber:t,blockTag:r,coinType:n,name:o,gatewayUrls:s,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ot({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{let u=oe({abi:pf,functionName:"addr",...n!=null?{args:[ko(o),BigInt(n)]}:{args:[ko(o)]}}),p={address:c,abi:Da,functionName:"resolve",args:[$($r(o)),u],blockNumber:t,blockTag:r},m=k(e,Ee,"readContract"),f=s?await m({...p,args:[...p.args,s]}):await m(p);if(f[0]==="0x")return null;let d=Ue({abi:pf,args:n!=null?[ko(o),BigInt(n)]:void 0,functionName:"addr",data:f[0]});return d==="0x"||we(d)==="0x00"?null:d}catch(u){if(i)throw u;if(So(u,"resolve"))return null;throw u}}_();var fc=class extends g{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}},zr=class extends g{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}},Co=class extends g{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},pc=class extends g{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}};var ly=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,hy=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,xy=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,yy=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function by(e){try{let t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{let n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=e})}}function il(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Af({uri:e,gatewayUrls:t}){let r=xy.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=il(t?.ipfs,"https://ipfs.io"),o=il(t?.arweave,"https://arweave.net"),s=e.match(ly),{protocol:i,subpath:a,target:c,subtarget:u=""}=s?.groups||{},p=i==="ipns:/"||a==="ipns/",m=i==="ipfs:/"||a==="ipfs/"||hy.test(e);if(e.startsWith("http")&&!p&&!m){let d=e;return t?.arweave&&(d=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:d,isOnChain:!1,isEncoded:!1}}if((p||m)&&c)return{uri:`${n}/${p?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${o}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(yy,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Co({uri:e})}function Tf(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new fc({data:e});return e.image||e.image_url||e.image_data}async function al({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(o=>o.json());return await mc({gatewayUrls:e,uri:Tf(r)})}catch{throw new Co({uri:t})}}async function mc({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=Af({uri:t,gatewayUrls:e});if(n||await by(r))return r;throw new Co({uri:t})}function cl(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,o]=t.split("/"),[s,i]=r.split(":"),[a,c]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new zr({reason:"Only EIP-155 supported"});if(!i)throw new zr({reason:"Chain ID not found"});if(!c)throw new zr({reason:"Contract address not found"});if(!o)throw new zr({reason:"Token ID not found"});if(!a)throw new zr({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:c,tokenID:o}}async function ul(e,{nft:t}){if(t.namespace==="erc721")return Ee(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ee(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new pc({namespace:t.namespace})}async function fl(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?gy(e,{gatewayUrls:t,record:r}):mc({uri:r,gatewayUrls:t})}async function gy(e,{gatewayUrls:t,record:r}){let n=cl(r),o=await ul(e,{nft:n}),{uri:s,isOnChain:i,isEncoded:a}=Af({uri:o,gatewayUrls:t});if(i&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){let u=a?atob(s.replace("data:application/json;base64,","")):s,p=JSON.parse(u);return mc({uri:Tf(p),gatewayUrls:t})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),al({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}fn();Cr();Je();ln();H();async function dc(e,{blockNumber:t,blockTag:r,name:n,key:o,gatewayUrls:s,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ot({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{let u={address:c,abi:Da,functionName:"resolve",args:[$($r(n)),oe({abi:ff,functionName:"text",args:[ko(n),o]})],blockNumber:t,blockTag:r},p=k(e,Ee,"readContract"),m=s?await p({...u,args:[...u.args,s]}):await p(u);if(m[0]==="0x")return null;let f=Ue({abi:ff,functionName:"text",data:m[0]});return f===""?null:f}catch(u){if(i)throw u;if(So(u,"resolve"))return null;throw u}}async function pl(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:o,gatewayUrls:s,strict:i,universalResolverAddress:a}){let c=await k(e,dc,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:o,universalResolverAddress:a,gatewayUrls:s,strict:i});if(!c)return null;try{return await fl(e,{record:c,gatewayUrls:n})}catch{return null}}fn();ln();H();async function ml(e,{address:t,blockNumber:r,blockTag:n,gatewayUrls:o,strict:s,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=ot({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}let c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{let u={address:a,abi:$d,functionName:"reverse",args:[$($r(c))],blockNumber:r,blockTag:n},p=k(e,Ee,"readContract"),[m,f]=o?await p({...u,args:[...u.args,o]}):await p(u);return t.toLowerCase()!==f.toLowerCase()?null:m}catch(u){if(s)throw u;if(So(u,"reverse"))return null;throw u}}ln();H();async function dl(e,{blockNumber:t,blockTag:r,name:n,universalResolverAddress:o}){let s=o;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=ot({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}let[i]=await k(e,Ee,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[$($r(n))],blockNumber:t,blockTag:r});return i}Io();he();H();lf();Hs();cn();Pr();async function lc(e,t){let{account:r=e.account,blockNumber:n,blockTag:o="latest",blobs:s,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:p,maxPriorityFeePerGas:m,to:f,value:d,...y}=t,b=r?D(r):void 0;try{He(t);let h=(n?C(n):void 0)||o,x=e.chain?.formatters?.transactionRequest?.format,v=(x||rt)({...Br(y,{format:x}),from:b?.address,blobs:s,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:p,maxPriorityFeePerGas:m,to:f,value:d}),I=await e.request({method:"eth_createAccessList",params:[v,h]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(l){throw Za(l,{...t,account:b,chain:e.chain})}}async function ll(e){let t=mr(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}H();async function hc(e,{address:t,args:r,event:n,events:o,fromBlock:s,strict:i,toBlock:a}={}){let c=o??(n?[n]:void 0),u=mr(e,{method:"eth_newFilter"}),p=[];c&&(p=[c.flatMap(d=>Pt({abi:[d],eventName:d.name,args:r}))],n&&(p=p[0]));let m=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?C(s):s,toBlock:typeof a=="bigint"?C(a):a,...p.length?{topics:p}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:m,request:u(m),strict:!!i,toBlock:a,type:"event"}}async function xc(e){let t=mr(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}async function hl(e){let t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}ve();H();async function xl(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let o=r!==void 0?C(r):void 0,s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[o||n]},{dedupe:!!o}),se(s)}H();async function If(e,{address:t,blockNumber:r,blockTag:n="latest"}){let o=r!==void 0?C(r):void 0,s=await e.request({method:"eth_getCode",params:[t,o||n]},{dedupe:!!o});if(s!=="0x")return s}H();function yl(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(r=>BigInt(r)))}}async function bl(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:o}){let s=r?C(r):void 0,i=await e.request({method:"eth_feeHistory",params:[C(t),s||n,o]},{dedupe:!!s});return yl(i)}async function gl(e,{filter:t}){let r=t.strict??!1,o=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>ke(s));return t.abi?Ao({abi:t.abi,logs:o,strict:r}):o}H();function Ro(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}de();At();$e();_();var yc=class extends g{constructor({domain:t}){super(`Invalid domain "${q(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},bc=class extends g{constructor({primaryType:t,types:r}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},gc=class extends g{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};lt();ct();H();Eu();Vt();Ye();H();dt();function wl(e){let{domain:t={},message:r,primaryType:n}=e,o={EIP712Domain:vc({domain:t}),...e.types};wc({domain:t,message:r,primaryType:n,types:o});let s=["0x1901"];return t&&s.push(wy({domain:t,types:o})),n!=="EIP712Domain"&&s.push(vl({data:r,primaryType:n,types:o})),K(Ne(s))}function wy({domain:e,types:t}){return vl({data:e,primaryType:"EIP712Domain",types:t})}function vl({data:e,primaryType:t,types:r}){let n=El({data:e,primaryType:t,types:r});return K(n)}function El({data:e,primaryType:t,types:r}){let n=[{type:"bytes32"}],o=[vy({primaryType:t,types:r})];for(let s of r[t]){let[i,a]=Tl({types:r,name:s.name,type:s.type,value:e[s.name]});n.push(i),o.push(a)}return Ie(n,o)}function vy({primaryType:e,types:t}){let r=$(Ey({primaryType:e,types:t}));return K(r)}function Ey({primaryType:e,types:t}){let r="",n=Al({primaryType:e,types:t});n.delete(e);let o=[e,...Array.from(n).sort()];for(let s of o)r+=`${s}(${t[s].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return r}function Al({primaryType:e,types:t},r=new Set){let o=e.match(/^\w*/u)?.[0];if(r.has(o)||t[o]===void 0)return r;r.add(o);for(let s of t[o])Al({primaryType:s.type,types:t},r);return r}function Tl({types:e,name:t,type:r,value:n}){if(e[r]!==void 0)return[{type:"bytes32"},K(El({data:n,primaryType:r,types:e}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},K(n)];if(r==="string")return[{type:"bytes32"},K($(n))];if(r.lastIndexOf("]")===r.length-1){let o=r.slice(0,r.lastIndexOf("[")),s=n.map(i=>Tl({name:t,type:o,types:e,value:i}));return[{type:"bytes32"},K(Ie(s.map(([i])=>i),s.map(([,i])=>i)))]}return[{type:r},n]}$e();function Il(e){let{domain:t,message:r,primaryType:n,types:o}=e,s=(c,u)=>{let p={...u};for(let m of c){let{name:f,type:d}=m;d==="address"&&(p[f]=p[f].toLowerCase())}return p},i=o.EIP712Domain?t?s(o.EIP712Domain,t):{}:{},a=(()=>{if(n!=="EIP712Domain")return s(o[n],r)})();return q({domain:i,message:a,primaryType:n,types:o})}function wc(e){let{domain:t,message:r,primaryType:n,types:o}=e,s=(i,a)=>{for(let c of i){let{name:u,type:p}=c,m=a[u],f=p.match(_i);if(f&&(typeof m=="number"||typeof m=="bigint")){let[b,l,h]=f;C(m,{signed:l==="int",size:Number.parseInt(h)/8})}if(p==="address"&&typeof m=="string"&&!Y(m))throw new ee({address:m});let d=p.match(hm);if(d){let[b,l]=d;if(l&&W(m)!==Number.parseInt(l))throw new vi({expectedSize:Number.parseInt(l),givenSize:W(m)})}let y=o[p];y&&(Ay(p),s(y,m))}};if(o.EIP712Domain&&t){if(typeof t!="object")throw new yc({domain:t});s(o.EIP712Domain,t)}if(n!=="EIP712Domain")if(o[n])s(o[n],r);else throw new bc({primaryType:n,types:o})}function vc({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Ay(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new gc({type:e})}Je();H();ht();Ye();Mn();H();of();At();_();js();Tr();lt();ct();Gr();ve();function Bl(e){let{authorizationList:t}=e;if(t)for(let r of t){let{chainId:n}=r,o=r.address;if(!Y(o))throw new ee({address:o});if(n<0)throw new mn({chainId:n})}Ec(e)}function Pl(e){let{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new go;for(let r of t){let n=W(r),o=se(Gt(r,0,1));if(n!==32)throw new Oa({hash:r,size:n});if(o!==1)throw new Fa({hash:r,version:o})}}Ec(e)}function Ec(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:o}=e;if(t<=0)throw new mn({chainId:t});if(o&&!Y(o))throw new ee({address:o});if(n&&n>mo)throw new et({maxFeePerGas:n});if(r&&n&&r>n)throw new Nt({maxFeePerGas:n,maxPriorityFeePerGas:r})}function Sl(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:s}=e;if(t<=0)throw new mn({chainId:t});if(s&&!Y(s))throw new ee({address:s});if(r||o)throw new g("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>mo)throw new et({maxFeePerGas:n})}function kl(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:s}=e;if(s&&!Y(s))throw new ee({address:s});if(typeof t<"u"&&t<=0)throw new mn({chainId:t});if(r||o)throw new g("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>mo)throw new et({maxFeePerGas:n})}At();ht();lt();function Vs(e){if(!e||e.length===0)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:o}=e[r];for(let s=0;s<o.length;s++)if(o[s].length-2!==64)throw new na({storageKey:o[s]});if(!Y(n,{strict:!1}))throw new ee({address:n});t.push([n,o])}return t}function Cl(e,t){let r=Ua(e);return r==="eip1559"?By(e,t):r==="eip2930"?Py(e,t):r==="eip4844"?Iy(e,t):r==="eip7702"?Ty(e,t):Sy(e,t)}function Ty(e,t){let{authorizationList:r,chainId:n,gas:o,nonce:s,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:p,data:m}=e;Bl(e);let f=Vs(p),d=Rl(r);return Te(["0x04",bt([$(n),s?$(s):"0x",u?$(u):"0x",c?$(c):"0x",o?$(o):"0x",i??"0x",a?$(a):"0x",m??"0x",f,d,...Mo(e,t)])])}function Iy(e,t){let{chainId:r,gas:n,nonce:o,to:s,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:p,data:m}=e;Pl(e);let f=e.blobVersionedHashes,d=e.sidecars;if(e.blobs&&(typeof f>"u"||typeof d>"u")){let w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(T=>j(T)),v=e.kzg,I=yo({blobs:w,kzg:v});if(typeof f>"u"&&(f=$a({commitments:I})),typeof d>"u"){let T=bo({blobs:w,commitments:I,kzg:v});d=Ha({blobs:w,commitments:I,proofs:T})}}let y=Vs(p),b=[$(r),o?$(o):"0x",u?$(u):"0x",c?$(c):"0x",n?$(n):"0x",s??"0x",i?$(i):"0x",m??"0x",y,a?$(a):"0x",f??[],...Mo(e,t)],l=[],h=[],x=[];if(d)for(let w=0;w<d.length;w++){let{blob:v,commitment:I,proof:T}=d[w];l.push(v),h.push(I),x.push(T)}return Te(["0x03",d?bt([b,l,h,x]):bt(b)])}function By(e,t){let{chainId:r,gas:n,nonce:o,to:s,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:p}=e;Ec(e);let m=Vs(u),f=[$(r),o?$(o):"0x",c?$(c):"0x",a?$(a):"0x",n?$(n):"0x",s??"0x",i?$(i):"0x",p??"0x",m,...Mo(e,t)];return Te(["0x02",bt(f)])}function Py(e,t){let{chainId:r,gas:n,data:o,nonce:s,to:i,value:a,accessList:c,gasPrice:u}=e;Sl(e);let p=Vs(c),m=[$(r),s?$(s):"0x",u?$(u):"0x",n?$(n):"0x",i??"0x",a?$(a):"0x",o??"0x",p,...Mo(e,t)];return Te(["0x01",bt(m)])}function Sy(e,t){let{chainId:r=0,gas:n,data:o,nonce:s,to:i,value:a,gasPrice:c}=e;kl(e);let u=[s?$(s):"0x",c?$(c):"0x",n?$(n):"0x",i??"0x",a?$(a):"0x",o??"0x"];if(t){let p=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);let d=27n+(t.v===27n?0n:1n);if(t.v!==d)throw new ta({v:t.v});return d})(),m=we(t.r),f=we(t.s);u=[...u,$(p),m==="0x00"?"0x":m,f==="0x00"?"0x":f]}else r>0&&(u=[...u,$(r),"0x","0x"]);return bt(u)}function Mo(e,t){let r=t??e,{v:n,yParity:o}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof o>"u")return[];let s=we(r.r),i=we(r.s);return[typeof o=="number"?o?$(1):"0x":n===0n?"0x":n===1n?$(1):n===27n?"0x":$(1),s==="0x00"?"0x":s,i==="0x00"?"0x":i]}function Rl(e){if(!e||e.length===0)return[];let t=[];for(let r of e){let{chainId:n,nonce:o,...s}=r,i=r.address;t.push([n?$(n):"0x",i,o?$(o):"0x",...Mo({},s)])}return t}ve();ka();var ky={"0x0":"reverted","0x1":"success"};function Bf(e){let t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>ke(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?se(e.transactionIndex):null,status:e.status?ky[e.status]:null,type:e.type?sf[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}var Ml=fo("transactionReceipt",Bf);ve();dt();var Nl=`Ethereum Signed Message:
`;Ye();ct();H();function $l(e){let t=typeof e=="string"?ft(e):typeof e.raw=="string"?e.raw:j(e.raw),r=ft(`${Nl}${W(t)}`);return Ne([r,t])}function Ac(e,t){return K($l(e),t)}var Tc="0x6492649264926492649264926492649264926492649264926492649264926492";Gr();function zl(e){return vu(e,-32)===Tc}Vt();Ye();le();function Ol(e){let{address:t,data:r,signature:n,to:o="hex"}=e,s=Te([Ie([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,n]),Tc]);return o==="hex"?s:ie(s)}function Cy(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Fl(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?se(e.nonce):void 0,storageProof:e.storageProof?Cy(e.storageProof):void 0}}async function Hl(e,{address:t,blockNumber:r,blockTag:n,storageKeys:o}){let s=n??"latest",i=r!==void 0?C(r):void 0,a=await e.request({method:"eth_getProof",params:[t,o,i||s]});return Fl(a)}H();async function Ul(e,{address:t,blockNumber:r,blockTag:n="latest",slot:o}){let s=r!==void 0?C(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,o,s||n]})}ht();H();async function No(e,{blockHash:t,blockNumber:r,blockTag:n,hash:o,index:s}){let i=n||"latest",a=r!==void 0?C(r):void 0,c=null;if(o?c=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,C(s)]},{dedupe:!0}):(a||i)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,C(s)]},{dedupe:!!a})),!c)throw new Un({blockHash:t,blockNumber:r,blockTag:i,hash:o,index:s});return(e.chain?.formatters?.transaction?.format||un)(c)}async function Ll(e,{hash:t,transactionReceipt:r}){let[n,o]=await Promise.all([k(e,Ft,"getBlockNumber")({}),t?k(e,No,"getTransaction")({hash:t}):void 0]),s=r?.blockNumber||o?.blockNumber;return s?n-s+1n:0n}ht();async function Ws(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new Ln({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Bf)(r)}fn();de();_();dr();Cr();Je();ln();async function _l(e,t){let{allowFailure:r=!0,batchSize:n,blockNumber:o,blockTag:s,multicallAddress:i,stateOverride:a}=t,c=t.contracts,u=n??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024),p=i;if(!p){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");p=ot({blockNumber:o,chain:e.chain,contract:"multicall3"})}let m=[[]],f=0,d=0;for(let l=0;l<c.length;l++){let{abi:h,address:x,args:w,functionName:v}=c[l];try{let I=oe({abi:h,args:w,functionName:v});d+=(I.length-2)/2,u>0&&d>u&&m[f].length>0&&(f++,d=(I.length-2)/2,m[f]=[]),m[f]=[...m[f],{allowFailure:!0,callData:I,target:x}]}catch(I){let T=Ge(I,{abi:h,address:x,args:w,docsPath:"/docs/contract/multicall",functionName:v});if(!r)throw T;m[f]=[...m[f],{allowFailure:!0,callData:"0x",target:x}]}}let y=await Promise.allSettled(m.map(l=>k(e,Ee,"readContract")({abi:_s,address:p,args:[l],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:a}))),b=[];for(let l=0;l<y.length;l++){let h=y[l];if(h.status==="rejected"){if(!r)throw h.reason;for(let w=0;w<m[l].length;w++)b.push({status:"failure",error:h.reason,result:void 0});continue}let x=h.value;for(let w=0;w<x.length;w++){let{returnData:v,success:I}=x[w],{callData:T}=m[l][w],{abi:A,address:P,functionName:B,args:O}=c[b.length];try{if(T==="0x")throw new Ze;if(!I)throw new kt({data:v});let z=Ue({abi:A,args:O,data:v,functionName:B});b.push(r?{result:z,status:"success"}:z)}catch(z){let F=Ge(z,{abi:A,address:P,args:O,docsPath:"/docs/contract/multicall",functionName:B});if(!r)throw F;b.push({error:F,result:void 0,status:"failure"})}}}if(b.length!==c.length)throw new g("multicall results mismatch");return b}var Dl="0.1.1";function jl(){return Dl}var Z=class e extends Error{constructor(t,r={}){let n=(()=>{if(r.cause instanceof e){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause?.message?r.cause.message:r.details})(),o=r.cause instanceof e&&r.cause.docsPath||r.docsPath,i=`https://oxlib.sh${o??""}`,a=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||o?["",n?`Details: ${n}`:void 0,o?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${jl()}`}),this.cause=r.cause,this.details=n,this.docs=i,this.docsPath=o,this.shortMessage=t}walk(t){return ql(this,t)}};function ql(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ql(e.cause,t):t?null:e}var Ry="#__bigint";function Gl(e,t,r){return JSON.stringify(e,(n,o)=>typeof t=="function"?t(n,o):typeof o=="bigint"?o.toString()+Ry:o,r)}function Vl(e,t){if(Pf(e)>t)throw new Ic({givenSize:Pf(e),maxSize:t})}var Jt={zero:48,nine:57,A:65,F:70,a:97,f:102};function Sf(e){if(e>=Jt.zero&&e<=Jt.nine)return e-Jt.zero;if(e>=Jt.A&&e<=Jt.F)return e-(Jt.A-10);if(e>=Jt.a&&e<=Jt.f)return e-(Jt.a-10)}function Wl(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;if(e.length>n)throw new Bc({size:e.length,targetSize:n,type:"Bytes"});let o=new Uint8Array(n);for(let s=0;s<n;s++){let i=r==="right";o[i?s:n-s-1]=e[i?s:e.length-s-1]}return o}function Zs(e,t){if(ge(e)>t)throw new Pc({givenSize:ge(e),maxSize:t})}function Zl(e,t){if(typeof t=="number"&&t>0&&t>ge(e)-1)throw new Ks({offset:t,position:"start",size:ge(e)})}function Kl(e,t,r){if(typeof t=="number"&&typeof r=="number"&&ge(e)!==r-t)throw new Ks({offset:r,position:"end",size:ge(e)})}function Cf(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;let o=e.replace("0x","");if(o.length>n*2)throw new Sc({size:Math.ceil(o.length/2),targetSize:n,type:"Hex"});return`0x${o[r==="right"?"padEnd":"padStart"](n*2,"0")}`}var $y=new TextEncoder;function Jl(e){return e instanceof Uint8Array?e:typeof e=="string"?Oy(e):zy(e)}function zy(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Oy(e,t={}){let{size:r}=t,n=e;r&&(Zs(e,r),n=Ut(e,r));let o=n.slice(2);o.length%2&&(o=`0${o}`);let s=o.length/2,i=new Uint8Array(s);for(let a=0,c=0;a<s;a++){let u=Sf(o.charCodeAt(c++)),p=Sf(o.charCodeAt(c++));if(u===void 0||p===void 0)throw new Z(`Invalid byte sequence ("${o[c-2]}${o[c-1]}" in "${o}").`);i[a]=u*16+p}return i}function Xl(e,t={}){let{size:r}=t,n=$y.encode(e);return typeof r=="number"?(Vl(n,r),Fy(n,r)):n}function Fy(e,t){return Wl(e,{dir:"right",size:t})}function Pf(e){return e.length}var Ic=class extends Z{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}};var Bc=class extends Z{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};var Hy=new TextEncoder,Uy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ly(e,t={}){let{strict:r=!1}=t;if(!e)throw new kc(e);if(typeof e!="string")throw new kc(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Cc(e);if(!e.startsWith("0x"))throw new Cc(e)}function _e(...e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function Rc(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(Zs(r,t.size),Xt(r,t.size)):r}function $o(e,t={}){let r="";for(let o=0;o<e.length;o++)r+=Uy[e[o]];let n=`0x${r}`;return typeof t.size=="number"?(Zs(n,t.size),Ut(n,t.size)):n}function me(e,t={}){let{signed:r,size:n}=t,o=BigInt(e),s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof s=="bigint"&&r?-s-1n:0;if(s&&o>s||o<i){let u=typeof e=="bigint"?"n":"";throw new Ys({max:s?`${s}${u}`:void 0,min:`${i}${u}`,signed:r,size:n,value:`${e}${u}`})}let c=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?Xt(c,n):c}function zo(e,t={}){return $o(Hy.encode(e),t)}function Xt(e,t){return Cf(e,{dir:"left",size:t})}function Ut(e,t){return Cf(e,{dir:"right",size:t})}function Oo(e,t,r,n={}){let{strict:o}=n;Zl(e,t);let s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return o&&Kl(s,t,r),s}function ge(e){return Math.ceil((e.length-2)/2)}function Rf(e,t={}){let{strict:r=!1}=t;try{return Ly(e,{strict:r}),!0}catch{return!1}}var Ys=class extends Z{constructor({max:t,min:r,signed:n,size:o,value:s}){super(`Number \`${s}\` is not in safe${o?` ${o*8}-bit`:""}${n?" signed":" unsigned"} integer range ${t?`(\`${r}\` to \`${t}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};var kc=class extends Z{constructor(t){super(`Value \`${typeof t=="object"?Gl(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},Cc=class extends Z{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}};var Pc=class extends Z{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},Ks=class extends Z{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Sc=class extends Z{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Ql(e){return{address:e.address,amount:me(e.amount),index:me(e.index),validatorIndex:me(e.validatorIndex)}}function eh(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:me(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:me(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:me(e.gasLimit)},...typeof e.number=="bigint"&&{number:me(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:me(e.prevRandao)},...typeof e.time=="bigint"&&{time:me(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Ql)}}}he();de();dr();Tr();Cr();Je();H();Fs();cn();Ca();Pr();async function Js(e,t){let{blockNumber:r,blockTag:n="latest",blocks:o,returnFullTransactions:s,traceTransfers:i,validation:a}=t;try{let c=[];for(let f of o){let d=f.blockOverrides?eh(f.blockOverrides):void 0,y=f.calls.map(l=>{let h=l,x=h.account?D(h.account):void 0,w={...h,data:h.abi?oe(h):h.data,from:h.from??x?.address};return He(w),rt(w)}),b=f.stateOverrides?po(f.stateOverrides):void 0;c.push({blockOverrides:d,calls:y,stateOverrides:b})}let p=(r?C(r):void 0)||n;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:i,validation:a},p]})).map((f,d)=>({...Us(f),calls:f.calls.map((y,b)=>{let{abi:l,args:h,functionName:x,to:w}=o[d].calls[b],v=y.error?.data??y.returnData,I=BigInt(y.gasUsed),T=y.logs?.map(O=>ke(O)),A=y.status==="0x1"?"success":"failure",P=l&&A==="success"&&v!=="0x"?Ue({abi:l,data:v,functionName:x}):null,B=(()=>{if(A==="success")return;let O;if(y.error?.data==="0x"?O=new Ze:y.error&&(O=new kt(y.error)),!!O)return Ge(O,{abi:l??[],address:w,args:h,functionName:x??"<unknown>"})})();return{data:v,gasUsed:I,logs:T,status:A,...A==="success"?{result:P}:{error:B}}})}))}catch(c){let u=c,p=Ir(u,{});throw p instanceof tt?u:p}}ps();xu();function Mc(e,t={}){let{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=Hi(Jl(e));return r==="Bytes"?n:$o(n)}var Nc=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}};var jy={checksum:new Nc(8192)},$c=jy.checksum;var Gy=/^0x[a-fA-F0-9]{40}$/;function Fo(e,t={}){let{strict:r=!0}=t;if(!Gy.test(e))throw new zc({address:e,cause:new Mf});if(r){if(e.toLowerCase()===e)return;if(rh(e)!==e)throw new zc({address:e,cause:new Nf})}}function rh(e){if($c.has(e))return $c.get(e);Fo(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=Mc(Xl(t),{as:"Bytes"}),n=t.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());let o=`0x${n.join("")}`;return $c.set(e,o),o}function Oc(e,t={}){let{strict:r=!0}=t??{};try{return Fo(e,{strict:r}),!0}catch{return!1}}var zc=class extends Z{constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},Mf=class extends Z{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},Nf=class extends Z{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};function Hc(e){let t=!0,r="",n=0,o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function","error",""].includes(o))o="";else if(o+=a,a===")"){s=!0;break}continue}if(a===" "){e[i-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}o+=a,r+=a}}if(!s)throw new Z("Unable to normalize signature.");return o}function Fc(e,t){let r=typeof e,n=t.type;switch(n){case"address":return Oc(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((o,s)=>Fc(Object.values(e)[s],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(o=>Fc(o,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function zf(e,t,r){for(let n in e){let o=e[n],s=t[n];if(o.type==="tuple"&&s.type==="tuple"&&"components"in o&&"components"in s)return zf(o.components,s.components,r[n]);let i=[o.type,s.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Oc(r[n],{strict:!1}):i.includes("address")&&i.includes("bytes")?Oc(r[n],{strict:!1}):!1)return i}}function Uc(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)?fs(e):typeof e=="string"?fs(e):e;return{...n,...r?{hash:Ho(n)}:{}}}function nh(e,t,r){let{args:n=[],prepare:o=!0}=r??{},s=Rf(t,{strict:!1}),i=e.filter(u=>s?u.type==="function"||u.type==="error"?Ff(u)===Oo(t,0,4):u.type==="event"?Ho(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new xn({name:t});if(i.length===1)return{...i[0],...o?{hash:Ho(i[0])}:{}};let a;for(let u of i){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...o?{hash:Ho(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((m,f)=>{let d="inputs"in u&&u.inputs[f];return d?Fc(m,d):!1})){if(a&&"inputs"in a&&a.inputs){let m=zf(u.inputs,a.inputs,n);if(m)throw new Of({abiItem:u,type:m[0]},{abiItem:a,type:m[1]})}a=u}}let c=(()=>{if(a)return a;let[u,...p]=i;return{...u,overloads:p}})();if(!c)throw new xn({name:t});return{...c,...o?{hash:Ho(c)}:{}}}function Ff(e){return Oo(Ho(e),0,4)}function Wy(e){let t=typeof e=="string"?e:Ur(e);return Hc(t)}function Ho(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Mc(zo(Wy(e)))}var Of=class extends Z{constructor(t,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Hc(Ur(t.abiItem))}\`, and`,`\`${r.type}\` in \`${Hc(Ur(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},xn=class extends Z{constructor({name:t,data:r,type:n="item"}){let o=t?` with name "${t}"`:r?` with data "${r}"`:"";super(`ABI ${n}${o} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}};var sh=/^(.*)\[([0-9]*)\]$/,ih=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Lc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,$C=2n**(8n-1n)-1n,zC=2n**(16n-1n)-1n,OC=2n**(24n-1n)-1n,FC=2n**(32n-1n)-1n,HC=2n**(40n-1n)-1n,UC=2n**(48n-1n)-1n,LC=2n**(56n-1n)-1n,_C=2n**(64n-1n)-1n,DC=2n**(72n-1n)-1n,jC=2n**(80n-1n)-1n,qC=2n**(88n-1n)-1n,GC=2n**(96n-1n)-1n,VC=2n**(104n-1n)-1n,WC=2n**(112n-1n)-1n,ZC=2n**(120n-1n)-1n,KC=2n**(128n-1n)-1n,YC=2n**(136n-1n)-1n,JC=2n**(144n-1n)-1n,XC=2n**(152n-1n)-1n,QC=2n**(160n-1n)-1n,e9=2n**(168n-1n)-1n,t9=2n**(176n-1n)-1n,r9=2n**(184n-1n)-1n,n9=2n**(192n-1n)-1n,o9=2n**(200n-1n)-1n,s9=2n**(208n-1n)-1n,i9=2n**(216n-1n)-1n,a9=2n**(224n-1n)-1n,c9=2n**(232n-1n)-1n,u9=2n**(240n-1n)-1n,f9=2n**(248n-1n)-1n,p9=2n**(256n-1n)-1n,m9=-(2n**(8n-1n)),d9=-(2n**(16n-1n)),l9=-(2n**(24n-1n)),h9=-(2n**(32n-1n)),x9=-(2n**(40n-1n)),y9=-(2n**(48n-1n)),b9=-(2n**(56n-1n)),g9=-(2n**(64n-1n)),w9=-(2n**(72n-1n)),v9=-(2n**(80n-1n)),E9=-(2n**(88n-1n)),A9=-(2n**(96n-1n)),T9=-(2n**(104n-1n)),I9=-(2n**(112n-1n)),B9=-(2n**(120n-1n)),P9=-(2n**(128n-1n)),S9=-(2n**(136n-1n)),k9=-(2n**(144n-1n)),C9=-(2n**(152n-1n)),R9=-(2n**(160n-1n)),M9=-(2n**(168n-1n)),N9=-(2n**(176n-1n)),$9=-(2n**(184n-1n)),z9=-(2n**(192n-1n)),O9=-(2n**(200n-1n)),F9=-(2n**(208n-1n)),H9=-(2n**(216n-1n)),U9=-(2n**(224n-1n)),L9=-(2n**(232n-1n)),_9=-(2n**(240n-1n)),D9=-(2n**(248n-1n)),j9=-(2n**(256n-1n)),q9=2n**8n-1n,G9=2n**16n-1n,V9=2n**24n-1n,W9=2n**32n-1n,Z9=2n**40n-1n,K9=2n**48n-1n,Y9=2n**56n-1n,J9=2n**64n-1n,X9=2n**72n-1n,Q9=2n**80n-1n,eR=2n**88n-1n,tR=2n**96n-1n,rR=2n**104n-1n,nR=2n**112n-1n,oR=2n**120n-1n,sR=2n**128n-1n,iR=2n**136n-1n,aR=2n**144n-1n,cR=2n**152n-1n,uR=2n**160n-1n,fR=2n**168n-1n,pR=2n**176n-1n,mR=2n**184n-1n,dR=2n**192n-1n,lR=2n**200n-1n,hR=2n**208n-1n,xR=2n**216n-1n,yR=2n**224n-1n,bR=2n**232n-1n,gR=2n**240n-1n,wR=2n**248n-1n,vR=2n**256n-1n;function ah({checksumAddress:e,parameters:t,values:r}){let n=[];for(let o=0;o<t.length;o++)n.push(Hf({checksumAddress:e,parameter:t[o],value:r[o]}));return n}function Hf({checksumAddress:e=!1,parameter:t,value:r}){let n=t,o=rb(n.type);if(o){let[s,i]=o;return Yy(r,{checksumAddress:e,length:s,parameter:{...n,type:i}})}if(n.type==="tuple")return tb(r,{checksumAddress:e,parameter:n});if(n.type==="address")return Ky(r,{checksum:e});if(n.type==="bool")return Xy(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){let s=n.type.startsWith("int"),[,,i="256"]=Lc.exec(n.type)??[];return Qy(r,{signed:s,size:Number(i)})}if(n.type.startsWith("bytes"))return Jy(r,{type:n.type});if(n.type==="string")return eb(r);throw new Qs(n.type)}function _c(e){let t=0;for(let s=0;s<e.length;s++){let{dynamic:i,encoded:a}=e[s];i?t+=32:t+=ge(a)}let r=[],n=[],o=0;for(let s=0;s<e.length;s++){let{dynamic:i,encoded:a}=e[s];i?(r.push(me(t+o,{size:32})),n.push(a),o+=ge(a)):r.push(a)}return _e(...r,...n)}function Ky(e,t){let{checksum:r=!1}=t;return Fo(e,{strict:r}),{dynamic:!1,encoded:Xt(e.toLowerCase())}}function Yy(e,t){let{checksumAddress:r,length:n,parameter:o}=t,s=n===null;if(!Array.isArray(e))throw new jc(e);if(!s&&e.length!==n)throw new Dc({expectedLength:n,givenLength:e.length,type:`${o.type}[${n}]`});let i=!1,a=[];for(let c=0;c<e.length;c++){let u=Hf({checksumAddress:r,parameter:o,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(s||i){let c=_c(a);if(s){let u=me(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?_e(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:_e(...a.map(({encoded:c})=>c))}}function Jy(e,{type:t}){let[,r]=t.split("bytes"),n=ge(e);if(!r){let o=e;return n%32!==0&&(o=Ut(o,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:_e(Xt(me(n,{size:32})),o)}}if(n!==Number.parseInt(r))throw new Xs({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:Ut(e)}}function Xy(e){if(typeof e!="boolean")throw new Z(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Xt(Rc(e))}}function Qy(e,{signed:t,size:r}){if(typeof r=="number"){let n=2n**(BigInt(r)-(t?1n:0n))-1n,o=t?-n-1n:0n;if(e>n||e<o)throw new Ys({max:n.toString(),min:o.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:me(e,{size:32,signed:t})}}function eb(e){let t=zo(e),r=Math.ceil(ge(t)/32),n=[];for(let o=0;o<r;o++)n.push(Ut(Oo(t,o*32,(o+1)*32)));return{dynamic:!0,encoded:_e(Ut(me(ge(t),{size:32})),...n)}}function tb(e,t){let{checksumAddress:r,parameter:n}=t,o=!1,s=[];for(let i=0;i<n.components.length;i++){let a=n.components[i],c=Array.isArray(e)?i:a.name,u=Hf({checksumAddress:r,parameter:a,value:e[c]});s.push(u),u.dynamic&&(o=!0)}return{dynamic:o,encoded:o?_c(s):_e(...s.map(({encoded:i})=>i))}}function rb(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Gc(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new qc({expectedLength:e.length,givenLength:t.length});let o=ah({checksumAddress:n,parameters:e,values:t}),s=_c(o);return s.length===0?"0x":s}function Lf(e,t){if(e.length!==t.length)throw new qc({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let o=e[n],s=t[n];r.push(Lf.encode(o,s))}return _e(...r)}(function(e){function t(r,n,o=!1){if(r==="address"){let c=n;return Fo(c),Xt(c.toLowerCase(),o?32:0)}if(r==="string")return zo(n);if(r==="bytes")return n;if(r==="bool")return Xt(Rc(n),o?32:1);let s=r.match(Lc);if(s){let[c,u,p="256"]=s,m=Number.parseInt(p)/8;return me(n,{size:o?32:m,signed:u==="int"})}let i=r.match(ih);if(i){let[c,u]=i;if(Number.parseInt(u)!==(n.length-2)/2)throw new Xs({expectedSize:Number.parseInt(u),value:n});return Ut(n,o?32:0)}let a=r.match(sh);if(a&&Array.isArray(n)){let[c,u]=a,p=[];for(let m=0;m<n.length;m++)p.push(t(u,n[m],!0));return p.length===0?"0x":_e(...p)}throw new Qs(r)}e.encode=t})(Lf||(Lf={}));var Dc=class extends Z{constructor({expectedLength:t,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${t}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},Xs=class extends Z{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${ge(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},qc=class extends Z{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},jc=class extends Z{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},Qs=class extends Z{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};function ch(e,t){let{bytecode:r,args:n}=t;return _e(r,e.inputs?.length&&n?.length?Gc(e.inputs,n):"0x")}function uh(e){return Uc(e)}function fh(e,...t){let{overloads:r}=e,n=r?ib([e,...r],e.name,{args:t[0]}):e,o=ab(n),s=t.length>0?Gc(n.inputs,t[0]):void 0;return s?_e(o,s):o}function yn(e,t={}){return Uc(e,t)}function ib(e,t,r){let n=nh(e,t,r);if(n.type!=="function")throw new xn({name:t,type:"function"});return n}function ab(e){return Ff(e)}he();var ph="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",gt="0x0000000000000000000000000000000000000000";qa();_();Je();var ub="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function mh(e,t){let{blockNumber:r,blockTag:n,calls:o,stateOverrides:s,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?D(t.account):void 0;if(i&&!u)throw new g("`account` is required when `traceAssetChanges` is true");let p=u?ch(uh("constructor(bytes, bytes)"),{bytecode:ja,args:[ub,fh(yn("function getBalance(address)"),[u.address])]}):void 0,m=i?await Promise.all(t.calls.map(async N=>{if(!N.data&&!N.abi)return;let{accessList:V}=await lc(e,{account:u.address,...N,data:N.abi?oe(N):N.data});return V.map(({address:ue,storageKeys:ze})=>ze.length>0?ue:null)})).then(N=>N.flat().filter(Boolean)):[],f=s?.map(N=>N.address===u?.address?{...N,nonce:0}:N),d=await Js(e,{blockNumber:r,blockTag:n,blocks:[...i?[{calls:[{data:p}],stateOverrides:s},{calls:m.map((N,V)=>({abi:[yn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:N,from:gt,nonce:V})),stateOverrides:[{address:gt,nonce:0}]}]:[],{calls:[...o,{}].map((N,V)=>({...N,from:u?.address,nonce:V})),stateOverrides:f},...i?[{calls:[{data:p}]},{calls:m.map((N,V)=>({abi:[yn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:N,from:gt,nonce:V})),stateOverrides:[{address:gt,nonce:0}]},{calls:m.map((N,V)=>({to:N,abi:[yn("function decimals() returns (uint256)")],functionName:"decimals",from:gt,nonce:V})),stateOverrides:[{address:gt,nonce:0}]},{calls:m.map((N,V)=>({to:N,abi:[yn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:gt,nonce:V})),stateOverrides:[{address:gt,nonce:0}]},{calls:m.map((N,V)=>({to:N,abi:[yn("function symbol() returns (string)")],functionName:"symbol",from:gt,nonce:V})),stateOverrides:[{address:gt,nonce:0}]}]:[]],traceTransfers:a,validation:c}),y=i?d[2]:d[0],[b,l,,h,x,w,v,I]=i?d:[],{calls:T,...A}=y,P=T.slice(0,-1)??[],B=b?.calls??[],O=l?.calls??[],z=[...B,...O].map(N=>N.status==="success"?re(N.data):null),F=h?.calls??[],X=x?.calls??[],S=[...F,...X].map(N=>N.status==="success"?re(N.data):null),M=(w?.calls??[]).map(N=>N.status==="success"?N.result:null),R=(I?.calls??[]).map(N=>N.status==="success"?N.result:null),U=(v?.calls??[]).map(N=>N.status==="success"?N.result:null),L=[];for(let[N,V]of S.entries()){let ue=z[N];if(typeof V!="bigint"||typeof ue!="bigint")continue;let ze=M[N-1],je=R[N-1],Ae=U[N-1],Lt=N===0?{address:ph,decimals:18,symbol:"ETH"}:{address:m[N-1],decimals:Ae||ze?Number(ze??1):void 0,symbol:je??void 0};L.some(vt=>vt.token.address===Lt.address)||L.push({token:Lt,value:{pre:ue,post:V,diff:V-ue}})}return{assetChanges:L,block:A,results:P}}fn();qa();dr();Wa();qr();vo();We();H();nf();ve();le();function dh({r:e,s:t,to:r="hex",v:n,yParity:o}){let s=(()=>{if(o===0||o===1)return o;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new an.Signature(re(e),re(t)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?i:ie(i)}Io();async function Uo(e,t){let{address:r,factory:n,factoryData:o,hash:s,signature:i,universalSignatureVerifierAddress:a=e.chain?.contracts?.universalSignatureVerifier?.address,...c}=t,u=Q(i)?i:typeof i=="object"&&"r"in i&&"s"in i?dh(i):j(i),p=await(async()=>!n&&!o||zl(u)?u:Ol({address:n,data:o,signature:u}))();try{let m=a?{to:a,data:oe({abi:mf,functionName:"isValidSig",args:[r,s,p]}),...c}:{data:dn({abi:mf,args:[r,s,p],bytecode:Hd}),...c},{data:f}=await k(e,zt,"call")(m);return gs(f??"0x0")}catch(m){try{if($t(Li(r),await Ba({hash:s,signature:i})))return!0}catch{}if(m instanceof _n)return!1;throw m}}async function lh(e,{address:t,message:r,factory:n,factoryData:o,signature:s,...i}){let a=Ac(r);return Uo(e,{address:t,factory:n,factoryData:o,hash:a,signature:s,...i})}async function hh(e,t){let{address:r,factory:n,factoryData:o,signature:s,message:i,primaryType:a,types:c,domain:u,...p}=t,m=wl({message:i,primaryType:a,types:c,domain:u});return Uo(e,{address:r,factory:n,factoryData:o,hash:m,signature:s,...p})}ht();hf();$e();ve();$e();function Vc(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:o,poll:s,pollingInterval:i=e.pollingInterval}){let a=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),c;return a?(()=>{let m=q(["watchBlockNumber",e.uid,t,r,i]);return Le(m,{onBlockNumber:n,onError:o},f=>Ot(async()=>{try{let d=await k(e,Ft,"getBlockNumber")({cacheTime:0});if(c){if(d===c)return;if(d-c>1&&r)for(let y=c+1n;y<d;y++)f.onBlockNumber(y,c),c=y}(!c||d>c)&&(f.onBlockNumber(d,c),c=d)}catch(d){f.onError?.(d)}},{emitOnBegin:t,interval:i}))})():(()=>{let m=q(["watchBlockNumber",e.uid,t,r]);return Le(m,{onBlockNumber:n,onError:o},f=>{let d=!0,y=()=>d=!1;return(async()=>{try{let b=(()=>{if(e.transport.type==="fallback"){let h=e.transport.transports.find(x=>x.config.type==="webSocket");return h?h.value:e.transport}return e.transport})(),{unsubscribe:l}=await b.subscribe({params:["newHeads"],onData(h){if(!d)return;let x=re(h.result?.number);f.onBlockNumber(x,c),c=x},onError(h){f.onError?.(h)}});y=l,d||y()}catch(b){o?.(b)}})(),()=>y()})})()}async function xh(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:o=e.pollingInterval,retryCount:s=6,retryDelay:i=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){let c=q(["waitForTransactionReceipt",e.uid,r]),u,p,m,f=!1,{promise:d,resolve:y,reject:b}=Ka(),l=a?setTimeout(()=>b(new sa({hash:r})),a):void 0,h=Le(c,{onReplaced:n,resolve:y,reject:b},x=>{let w=k(e,Vc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:o,async onBlockNumber(v){let I=A=>{clearTimeout(l),w(),A(),h()},T=v;if(!f)try{if(m){if(t>1&&(!m.blockNumber||T-m.blockNumber+1n<t))return;I(()=>x.resolve(m));return}if(u||(f=!0,await Gs(async()=>{u=await k(e,No,"getTransaction")({hash:r}),u.blockNumber&&(T=u.blockNumber)},{delay:i,retryCount:s}),f=!1),m=await k(e,Ws,"getTransactionReceipt")({hash:r}),t>1&&(!m.blockNumber||T-m.blockNumber+1n<t))return;I(()=>x.resolve(m))}catch(A){if(A instanceof Un||A instanceof Ln){if(!u){f=!1;return}try{p=u,f=!0;let P=await Gs(()=>k(e,Se,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:i,retryCount:s,shouldRetry:({error:z})=>z instanceof lo});f=!1;let B=P.transactions.find(({from:z,nonce:F})=>z===p.from&&F===p.nonce);if(!B||(m=await k(e,Ws,"getTransactionReceipt")({hash:B.hash}),t>1&&(!m.blockNumber||T-m.blockNumber+1n<t)))return;let O="replaced";B.to===p.to&&B.value===p.value&&B.input===p.input?O="repriced":B.from===B.to&&B.value===0n&&(O="cancelled"),I(()=>{x.onReplaced?.({reason:O,replacedTransaction:p,transaction:B,transactionReceipt:m}),x.resolve(m)})}catch(P){I(()=>x.reject(P))}}else I(()=>x.reject(A))}}})});return d}$e();function yh(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:o,onError:s,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){let u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),p=i??!1,m;return u?(()=>{let y=q(["watchBlocks",e.uid,t,r,n,p,c]);return Le(y,{onBlock:o,onError:s},b=>Ot(async()=>{try{let l=await k(e,Se,"getBlock")({blockTag:t,includeTransactions:p});if(l.number&&m?.number){if(l.number===m.number)return;if(l.number-m.number>1&&r)for(let h=m?.number+1n;h<l.number;h++){let x=await k(e,Se,"getBlock")({blockNumber:h,includeTransactions:p});b.onBlock(x,m),m=x}}(!m?.number||t==="pending"&&!l?.number||l.number&&l.number>m.number)&&(b.onBlock(l,m),m=l)}catch(l){b.onError?.(l)}},{emitOnBegin:n,interval:c}))})():(()=>{let y=!0,b=!0,l=()=>y=!1;return(async()=>{try{n&&k(e,Se,"getBlock")({blockTag:t,includeTransactions:p}).then(w=>{y&&b&&(o(w,void 0),b=!1)});let h=(()=>{if(e.transport.type==="fallback"){let w=e.transport.transports.find(v=>v.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:x}=await h.subscribe({params:["newHeads"],async onData(w){if(!y)return;let v=await k(e,Se,"getBlock")({blockNumber:w.blockNumber,includeTransactions:p}).catch(()=>{});y&&(o(v,m),b=!1,m=v)},onError(w){s?.(w)}});l=x,y||l()}catch(h){s?.(h)}})(),()=>l()})()}$e();de();ks();function bh(e,{address:t,args:r,batch:n=!0,event:o,events:s,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:p=e.pollingInterval,strict:m}){let f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=m??!1;return f?(()=>{let l=q(["watchEvent",t,r,n,e.uid,o,p,i]);return Le(l,{onLogs:c,onError:a},h=>{let x;i!==void 0&&(x=i-1n);let w,v=!1,I=Ot(async()=>{if(!v){try{w=await k(e,hc,"createEventFilter")({address:t,args:r,event:o,events:s,strict:d,fromBlock:i})}catch{}v=!0;return}try{let T;if(w)T=await k(e,Rr,"getFilterChanges")({filter:w});else{let A=await k(e,Ft,"getBlockNumber")({});x&&x!==A?T=await k(e,To,"getLogs")({address:t,args:r,event:o,events:s,fromBlock:x+1n,toBlock:A}):T=[],x=A}if(T.length===0)return;if(n)h.onLogs(T);else for(let A of T)h.onLogs([A])}catch(T){w&&T instanceof Ct&&(v=!1),h.onError?.(T)}},{emitOnBegin:!0,interval:p});return async()=>{w&&await k(e,Mr,"uninstallFilter")({filter:w}),I()}})})():(()=>{let l=!0,h=()=>l=!1;return(async()=>{try{let x=(()=>{if(e.transport.type==="fallback"){let T=e.transport.transports.find(A=>A.config.type==="webSocket");return T?T.value:e.transport}return e.transport})(),w=s??(o?[o]:void 0),v=[];w&&(v=[w.flatMap(A=>Pt({abi:[A],eventName:A.name,args:r}))],o&&(v=v[0]));let{unsubscribe:I}=await x.subscribe({params:["logs",{address:t,topics:v}],onData(T){if(!l)return;let A=T.result;try{let{eventName:P,args:B}=Eo({abi:w??[],data:A.data,topics:A.topics,strict:d}),O=ke(A,{args:B,eventName:P});c([O])}catch(P){let B,O;if(P instanceof ut||P instanceof Et){if(m)return;B=P.abiItem.name,O=P.abiItem.inputs?.some(F=>!("name"in F&&F.name))}let z=ke(A,{args:O?[]:{},eventName:B});c([z])}},onError(T){a?.(T)}});h=I,l||h()}catch(x){a?.(x)}})(),()=>h()})()}$e();function gh(e,{batch:t=!0,onError:r,onTransactions:n,poll:o,pollingInterval:s=e.pollingInterval}){return(typeof o<"u"?o:e.transport.type!=="webSocket")?(()=>{let u=q(["watchPendingTransactions",e.uid,t,s]);return Le(u,{onTransactions:n,onError:r},p=>{let m,f=Ot(async()=>{try{if(!m)try{m=await k(e,xc,"createPendingTransactionFilter")({});return}catch(y){throw f(),y}let d=await k(e,Rr,"getFilterChanges")({filter:m});if(d.length===0)return;if(t)p.onTransactions(d);else for(let y of d)p.onTransactions([y])}catch(d){p.onError?.(d)}},{emitOnBegin:!0,interval:s});return async()=>{m&&await k(e,Mr,"uninstallFilter")({filter:m}),f()}})})():(()=>{let u=!0,p=()=>u=!1;return(async()=>{try{let{unsubscribe:m}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;let d=f.result;n([d])},onError(f){r?.(f)}});p=m,u||p()}catch(m){r?.(m)}})(),()=>p()})()}function wh(e){let{scheme:t,statement:r,...n}=e.match(fb)?.groups??{},{chainId:o,expirationTime:s,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(pb)?.groups??{},p=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...u,...o?{chainId:Number(o)}:{},...s?{expirationTime:new Date(s)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...p?{resources:p}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}var fb=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,pb=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;vo();function vh(e){let{address:t,domain:r,message:n,nonce:o,scheme:s,time:i=new Date}=e;if(r&&n.domain!==r||o&&n.nonce!==o||s&&n.scheme!==s||n.expirationTime&&i>=n.expirationTime||n.notBefore&&i<n.notBefore)return!1;try{if(!n.address||t&&!$t(n.address,t))return!1}catch{return!1}return!0}async function Eh(e,t){let{address:r,domain:n,message:o,nonce:s,scheme:i,signature:a,time:c=new Date,...u}=t,p=wh(o);if(!p.address||!vh({address:r,domain:n,message:p,nonce:s,scheme:i,time:c}))return!1;let f=Ac(o);return Uo(e,{address:p.address,hash:f,signature:a,...u})}function Ah(e){return{call:t=>zt(e,t),createAccessList:t=>lc(e,t),createBlockFilter:()=>ll(e),createContractEventFilter:t=>ji(e,t),createEventFilter:t=>hc(e,t),createPendingTransactionFilter:()=>xc(e),estimateContractGas:t=>Rd(e,t),estimateGas:t=>wo(e,t),getBalance:t=>La(e,t),getBlobBaseFee:()=>hl(e),getBlock:t=>Se(e,t),getBlockNumber:t=>Ft(e,t),getBlockTransactionCount:t=>xl(e,t),getBytecode:t=>If(e,t),getChainId:()=>nt(e),getCode:t=>If(e,t),getContractEvents:t=>_a(e,t),getEip712Domain:t=>Jd(e,t),getEnsAddress:t=>sl(e,t),getEnsAvatar:t=>pl(e,t),getEnsName:t=>ml(e,t),getEnsResolver:t=>dl(e,t),getEnsText:t=>dc(e,t),getFeeHistory:t=>bl(e,t),estimateFeesPerGas:t=>Pd(e,t),getFilterChanges:t=>Rr(e,t),getFilterLogs:t=>gl(e,t),getGasPrice:()=>ho(e),getLogs:t=>To(e,t),getProof:t=>Hl(e,t),estimateMaxPriorityFeePerGas:t=>Bd(e,t),getStorageAt:t=>Ul(e,t),getTransaction:t=>No(e,t),getTransactionConfirmations:t=>Ll(e,t),getTransactionCount:t=>xo(e,t),getTransactionReceipt:t=>Ws(e,t),multicall:t=>_l(e,t),prepareTransactionRequest:t=>kr(e,t),readContract:t=>Ee(e,t),sendRawTransaction:t=>Bo(e,t),simulate:t=>Js(e,t),simulateBlocks:t=>Js(e,t),simulateCalls:t=>mh(e,t),simulateContract:t=>qd(e,t),verifyMessage:t=>lh(e,t),verifySiweMessage:t=>Eh(e,t),verifyTypedData:t=>hh(e,t),uninstallFilter:t=>Mr(e,t),waitForTransactionReceipt:t=>xh(e,t),watchBlocks:t=>yh(e,t),watchBlockNumber:t=>Vc(e,t),watchContractEvent:t=>Zd(e,t),watchEvent:t=>bh(e,t),watchPendingTransactions:t=>gh(e,t)}}function _f(e){let{key:t="public",name:r="Public Client"}=e;return sc({...e,key:t,name:r,type:"publicClient"}).extend(Ah)}Wa();function Th(e,t){let{abi:r,args:n,bytecode:o,...s}=t,i=dn({abi:r,args:n,bytecode:o});return Po(e,{...s,...s.authorizationList?{to:null}:{},data:i})}qr();async function Ih(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>qt(r))}async function Bh(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}he();vo();async function Wc(e,t){let{account:r=e.account,chainId:n,nonce:o}=t;if(!r)throw new Ce({docsPath:"/docs/eip7702/prepareAuthorization"});let s=D(r),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:D(t.executor)})(),a={address:t.contractAddress??t.address,chainId:n,nonce:o};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await k(e,nt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await k(e,xo,"getTransactionCount")({address:s.address,blockTag:"pending"}),(i==="self"||i?.address&&$t(i.address,s.address))&&(a.nonce+=1)),a}qr();async function Ph(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>Li(r))}async function Sh(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}he();async function kh(e,t){let{account:r=e.account}=t;if(!r)throw new Ce({docsPath:"/docs/eip7702/signAuthorization"});let n=D(r);if(!n.signAuthorization)throw new Nr({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let o=await Wc(e,t);return n.signAuthorization(o)}he();H();async function Ch(e,{account:t=e.account,message:r}){if(!t)throw new Ce({docsPath:"/docs/actions/wallet/signMessage"});let n=D(t);if(n.signMessage)return n.signMessage({message:r});let o=typeof r=="string"?ft(r):r.raw instanceof Uint8Array?$(r.raw):r.raw;return e.request({method:"personal_sign",params:[o,n.address]},{retryCount:0})}he();H();cn();Pr();async function Rh(e,t){let{account:r=e.account,chain:n=e.chain,...o}=t;if(!r)throw new Ce({docsPath:"/docs/actions/wallet/signTransaction"});let s=D(r);He({account:s,...t});let i=await k(e,nt,"getChainId")({});n!==null&&ec({currentChainId:i,chain:n});let c=(n?.formatters||e.chain?.formatters)?.transactionRequest?.format||rt;return s.signTransaction?s.signTransaction({...o,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(o),chainId:C(i),from:s.address}]},{retryCount:0})}he();async function Mh(e,t){let{account:r=e.account,domain:n,message:o,primaryType:s}=t;if(!r)throw new Ce({docsPath:"/docs/actions/wallet/signTypedData"});let i=D(r),a={EIP712Domain:vc({domain:n}),...t.types};if(wc({domain:n,message:o,primaryType:s,types:a}),i.signTypedData)return i.signTypedData({domain:n,message:o,primaryType:s,types:a});let c=Il({domain:n,message:o,primaryType:s,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}H();async function Nh(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:C(t)}]},{retryCount:0})}async function $h(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function zh(e){return{addChain:t=>Xd(e,t),deployContract:t=>Th(e,t),getAddresses:()=>Ih(e),getChainId:()=>nt(e),getPermissions:()=>Bh(e),prepareAuthorization:t=>Wc(e,t),prepareTransactionRequest:t=>kr(e,t),requestAddresses:()=>Ph(e),requestPermissions:t=>Sh(e,t),sendRawTransaction:t=>Bo(e,t),sendTransaction:t=>Po(e,t),signAuthorization:t=>kh(e,t),signMessage:t=>Ch(e,t),signTransaction:t=>Rh(e,t),signTypedData:t=>Mh(e,t),switchChain:t=>Nh(e,t),watchAsset:t=>$h(e,t),writeContract:t=>Yd(e,t)}}function Df(e){let{key:t="wallet",name:r="Wallet Client",transport:n}=e;return sc({...e,key:t,name:r,transport:n,type:"walletClient"}).extend(zh)}Vt();H();ve();Is();We();var Oh={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}};ve();var Fh={block:Id({format(e){return{transactions:e.transactions?.map(r=>{if(typeof r=="string")return r;let n=un(r);return n.typeHex==="0x7e"&&(n.isSystemTx=r.isSystemTx,n.mint=r.mint?re(r.mint):void 0,n.sourceHash=r.sourceHash,n.type="deposit"),n}),stateRoot:e.stateRoot}}}),transaction:Td({format(e){let t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?re(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Ml({format(e){return{l1GasPrice:e.l1GasPrice?re(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?re(e.l1GasUsed):null,l1Fee:e.l1Fee?re(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};At();lt();Ye();H();function mb(e,t){return lb(e)?db(e):Cl(e,t)}var Hh={transaction:mb};function db(e){hb(e);let{sourceHash:t,data:r,from:n,gas:o,isSystemTx:s,mint:i,to:a,value:c}=e,u=[t,n,a??"0x",i?$(i):"0x",c?$(c):"0x",o?$(o):"0x",s?"0x1":"0x",r??"0x"];return Te(["0x7e",bt(u)])}function lb(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function hb(e){let{from:t,to:r}=e;if(t&&!Y(t))throw new ee({address:t});if(r&&!Y(r))throw new ee({address:r})}var Lo={contracts:Oh,formatters:Fh,serializers:Hh};var Zc=Ro({id:31337,name:"Anvil",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}});var ei=1,Kc=Ro({...Lo,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Lo.contracts,disputeGameFactory:{[ei]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[ei]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[ei]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[ei]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:ei});var ti=11155111,Yc=Ro({...Lo,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Lo.contracts,disputeGameFactory:{[ti]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[ti]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[ti]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[ti]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:ti});var xb="0x04969e1d36d43515cc6493a286021b44b0fce6f2",yb="0xECB28678045a94F8b96EdE1c8203aDEa81F8AAe3",bb=["function addInput(address _app, bytes payload) payable"],gb=Lr(bb),Jc={};Jc[Yc.id]=Yc;Jc[Kc.id]=Kc;Jc[Zc.id]=Zc;function wb(e){if(typeof e=="string"){if(!Q(e))throw new Error("Chain not found");e=ir(e,"number")}let t=Jc[e];if(!t)throw new Error("Chain not found");return t}async function Uh(e){let t=window.ethereum;if(!t){let o="MetaMask or another web3 wallet is not installed. Please install one to proceed.";throw new Error(o)}let r=wf(t),n=Df({chain:wb(e),transport:r});if(!t.chainId||ir(t.chainId,"number")!=n.chain.id)throw new Error("Wallet on wrong chain");return n}async function Lh(e,t){if(!e||!e.chain)throw new Error("No connected wallet");let r=window.ethereum;if(!r.chainId||ir(r.chainId,"number")!=e.chain.id)throw new Error("Wallet on wrong chain");let n=_f({chain:e.chain,transport:Ef()}),[o]=await e.requestAddresses(),{request:s}=await n.simulateContract({account:o,address:xb,abi:gb,functionName:"addInput",args:[yb,t],value:BigInt(0)}),i=await e.writeContract(s);await n.waitForTransactionReceipt({hash:i})}var st="INUMBER",Go="IOP1",Vo="IOP2",Wo="IOP3",er="IVAR",gn="IVARNAME",Do="IFUNCALL",Xc="IFUNDEF",De="IEXPR",Gf="IEXPREVAL",wn="IMEMBER",Qc="IENDSTATEMENT",jo="IARRAY";function G(e,t){this.type=e,this.value=t??0}G.prototype.toString=function(){switch(this.type){case st:case Go:case Vo:case Wo:case er:case gn:case Qc:return this.value;case Do:return"CALL "+this.value;case Xc:return"DEF "+this.value;case jo:return"ARRAY "+this.value;case wn:return"."+this.value;default:return"Invalid Instruction"}};function eu(e){return new G(Go,e)}function rr(e){return new G(Vo,e)}function Zh(e){return new G(Wo,e)}function qf(e,t,r,n,o){for(var s=[],i=[],a,c,u,p,m=0;m<e.length;m++){var f=e[m],d=f.type;if(d===st||d===gn)Array.isArray(f.value)?s.push.apply(s,qf(f.value.map(function(y){return new G(st,y)}).concat(new G(jo,f.value.length)),t,r,n,o)):s.push(f);else if(d===er&&o.hasOwnProperty(f.value))f=new G(st,o[f.value]),s.push(f);else if(d===Vo&&s.length>1)c=s.pop(),a=s.pop(),p=r[f.value],f=new G(st,p(a.value,c.value)),s.push(f);else if(d===Wo&&s.length>2)u=s.pop(),c=s.pop(),a=s.pop(),f.value==="?"?s.push(a.value?c.value:u.value):(p=n[f.value],f=new G(st,p(a.value,c.value,u.value)),s.push(f));else if(d===Go&&s.length>0)a=s.pop(),p=t[f.value],f=new G(st,p(a.value)),s.push(f);else if(d===De){for(;s.length>0;)i.push(s.shift());i.push(new G(De,qf(f.value,t,r,n,o)))}else if(d===wn&&s.length>0)a=s.pop(),s.push(new G(st,a.value[f.value]));else{for(;s.length>0;)i.push(s.shift());i.push(f)}}for(;s.length>0;)i.push(s.shift());return i}function Kh(e,t,r){for(var n=[],o=0;o<e.length;o++){var s=e[o],i=s.type;if(i===er&&s.value===t)for(var a=0;a<r.tokens.length;a++){var c=r.tokens[a],u;c.type===Go?u=eu(c.value):c.type===Vo?u=rr(c.value):c.type===Wo?u=Zh(c.value):u=new G(c.type,c.value),n.push(u)}else i===De?n.push(new G(De,Kh(s.value,t,r))):n.push(s)}return n}function bn(e,t,r){var n=[],o,s,i,a,c,u;if(Vf(e))return Qt(e,r);for(var p=e.length,m=0;m<p;m++){var f=e[m],d=f.type;if(d===st||d===gn)n.push(f.value);else if(d===Vo)s=n.pop(),o=n.pop(),f.value==="and"?n.push(o?!!bn(s,t,r):!1):f.value==="or"?n.push(o?!0:!!bn(s,t,r)):f.value==="="?(a=t.binaryOps[f.value],n.push(a(o,bn(s,t,r),r))):(a=t.binaryOps[f.value],n.push(a(Qt(o,r),Qt(s,r))));else if(d===Wo)i=n.pop(),s=n.pop(),o=n.pop(),f.value==="?"?n.push(bn(o?s:i,t,r)):(a=t.ternaryOps[f.value],n.push(a(Qt(o,r),Qt(s,r),Qt(i,r))));else if(d===er)if(f.value in t.functions)n.push(t.functions[f.value]);else if(f.value in t.unaryOps&&t.parser.isOperatorEnabled(f.value))n.push(t.unaryOps[f.value]);else{var y=r[f.value];if(y!==void 0)n.push(y);else throw new Error("undefined variable: "+f.value)}else if(d===Go)o=n.pop(),a=t.unaryOps[f.value],n.push(a(Qt(o,r)));else if(d===Do){for(u=f.value,c=[];u-- >0;)c.unshift(Qt(n.pop(),r));if(a=n.pop(),a.apply&&a.call)n.push(a.apply(void 0,c));else throw new Error(a+" is not a function")}else if(d===Xc)n.push(function(){for(var b=n.pop(),l=[],h=f.value;h-- >0;)l.unshift(n.pop());var x=n.pop(),w=function(){for(var v=Object.assign({},r),I=0,T=l.length;I<T;I++)v[l[I]]=arguments[I];return bn(b,t,v)};return Object.defineProperty(w,"name",{value:x,writable:!1}),r[x]=w,w}());else if(d===De)n.push(vb(f,t));else if(d===Gf)n.push(f);else if(d===wn)o=n.pop(),n.push(o[f.value]);else if(d===Qc)n.pop();else if(d===jo){for(u=f.value,c=[];u-- >0;)c.unshift(n.pop());n.push(c)}else throw new Error("invalid Expression")}if(n.length>1)throw new Error("invalid Expression (parity)");return n[0]===0?0:Qt(n[0],r)}function vb(e,t,r){return Vf(e)?e:{type:Gf,value:function(n){return bn(e.value,t,n)}}}function Vf(e){return e&&e.type===Gf}function Qt(e,t){return Vf(e)?e.value(t):e}function Wf(e,t){for(var r=[],n,o,s,i,a,c,u=0;u<e.length;u++){var p=e[u],m=p.type;if(m===st)typeof p.value=="number"&&p.value<0?r.push("("+p.value+")"):Array.isArray(p.value)?r.push("["+p.value.map(_h).join(", ")+"]"):r.push(_h(p.value));else if(m===Vo)o=r.pop(),n=r.pop(),i=p.value,t?i==="^"?r.push("Math.pow("+n+", "+o+")"):i==="and"?r.push("(!!"+n+" && !!"+o+")"):i==="or"?r.push("(!!"+n+" || !!"+o+")"):i==="||"?r.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+n+"),("+o+")))"):i==="=="?r.push("("+n+" === "+o+")"):i==="!="?r.push("("+n+" !== "+o+")"):i==="["?r.push(n+"[("+o+") | 0]"):r.push("("+n+" "+i+" "+o+")"):i==="["?r.push(n+"["+o+"]"):r.push("("+n+" "+i+" "+o+")");else if(m===Wo)if(s=r.pop(),o=r.pop(),n=r.pop(),i=p.value,i==="?")r.push("("+n+" ? "+o+" : "+s+")");else throw new Error("invalid Expression");else if(m===er||m===gn)r.push(p.value);else if(m===Go)n=r.pop(),i=p.value,i==="-"||i==="+"?r.push("("+i+n+")"):t?i==="not"?r.push("(!"+n+")"):i==="!"?r.push("fac("+n+")"):r.push(i+"("+n+")"):i==="!"?r.push("("+n+"!)"):r.push("("+i+" "+n+")");else if(m===Do){for(c=p.value,a=[];c-- >0;)a.unshift(r.pop());i=r.pop(),r.push(i+"("+a.join(", ")+")")}else if(m===Xc){for(o=r.pop(),c=p.value,a=[];c-- >0;)a.unshift(r.pop());n=r.pop(),t?r.push("("+n+" = function("+a.join(", ")+") { return "+o+" })"):r.push("("+n+"("+a.join(", ")+") = "+o+")")}else if(m===wn)n=r.pop(),r.push(n+"."+p.value);else if(m===jo){for(c=p.value,a=[];c-- >0;)a.unshift(r.pop());r.push("["+a.join(", ")+"]")}else if(m===De)r.push("("+Wf(p.value,t)+")");else if(m!==Qc)throw new Error("invalid Expression")}return r.length>1&&(t?r=[r.join(",")]:r=[r.join(";")]),String(r[0])}function _h(e){return typeof e=="string"?JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):e}function _o(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}function Zf(e,t,r){r=r||{};for(var n=!!r.withMembers,o=null,s=0;s<e.length;s++){var i=e[s];i.type===er||i.type===gn?!n&&!_o(t,i.value)?t.push(i.value):(o!==null&&(_o(t,o)||t.push(o)),o=i.value):i.type===wn&&n&&o!==null?o+="."+i.value:i.type===De?Zf(i.value,t,r):o!==null&&(_o(t,o)||t.push(o),o=null)}o!==null&&!_o(t,o)&&t.push(o)}function wt(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}wt.prototype.simplify=function(e){return e=e||{},new wt(qf(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,e),this.parser)};wt.prototype.substitute=function(e,t){return t instanceof wt||(t=this.parser.parse(String(t))),new wt(Kh(this.tokens,e,t),this.parser)};wt.prototype.evaluate=function(e){return e=e||{},bn(this.tokens,this,e)};wt.prototype.toString=function(){return Wf(this.tokens,!1)};wt.prototype.symbols=function(e){e=e||{};var t=[];return Zf(this.tokens,t,e),t};wt.prototype.variables=function(e){e=e||{};var t=[];Zf(this.tokens,t,e);var r=this.functions;return t.filter(function(n){return!(n in r)})};wt.prototype.toJSFunction=function(e,t){var r=this,n=new Function(e,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+Wf(this.simplify(t).tokens,!0)+"; }");return function(){return n.apply(r,arguments)}};var ri="TEOF",te="TOP",tu="TNUMBER",Yh="TSTRING",tr="TPAREN",qo="TBRACKET",ru="TCOMMA",Kf="TNAME",Yf="TSEMICOLON";function Jh(e,t,r){this.type=e,this.value=t,this.index=r}Jh.prototype.toString=function(){return this.type+": "+this.value};function ce(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options,this.parser=e}ce.prototype.newToken=function(e,t,r){return new Jh(e,t,r??this.pos)};ce.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current};ce.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent};ce.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(ri,"EOF");if(this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName())return this.current;this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')};ce.prototype.isString=function(){var e=!1,t=this.pos,r=this.expression.charAt(t);if(r==="'"||r==='"')for(var n=this.expression.indexOf(r,t+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,this.expression.charAt(n-1)!=="\\"){var o=this.expression.substring(t+1,n);this.current=this.newToken(Yh,this.unescape(o),t),e=!0;break}n=this.expression.indexOf(r,n+1)}return e};ce.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return e==="("||e===")"?(this.current=this.newToken(tr,e),this.pos++,!0):!1};ce.prototype.isBracket=function(){var e=this.expression.charAt(this.pos);return(e==="["||e==="]")&&this.isOperatorEnabled("[")?(this.current=this.newToken(qo,e),this.pos++,!0):!1};ce.prototype.isComma=function(){var e=this.expression.charAt(this.pos);return e===","?(this.current=this.newToken(ru,","),this.pos++,!0):!1};ce.prototype.isSemicolon=function(){var e=this.expression.charAt(this.pos);return e===";"?(this.current=this.newToken(Yf,";"),this.pos++,!0):!1};ce.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||r!=="_"&&r!=="."&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.consts)return this.current=this.newToken(tu,this.consts[n]),this.pos+=n.length,!0}return!1};ce.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||r!=="_"&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(te,n),this.pos+=n.length,!0}return!1};ce.prototype.isName=function(){for(var e=this.pos,t=e,r=!1;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()){if(t===this.pos&&(n==="$"||n==="_")){n==="_"&&(r=!0);continue}else if(t===this.pos||!r||n!=="_"&&(n<"0"||n>"9"))break}else r=!0}if(r){var o=this.expression.substring(e,t);return this.current=this.newToken(Kf,o),this.pos+=o.length,!0}return!1};ce.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);(t===" "||t==="	"||t===`
`||t==="\r")&&(e=!0,this.pos++,!(this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var Eb=/^[0-9a-f]{4}$/i;ce.prototype.unescape=function(e){var t=e.indexOf("\\");if(t<0)return e;for(var r=e.substring(0,t);t>=0;){var n=e.charAt(++t);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+=`
`;break;case"r":r+="\r";break;case"t":r+="	";break;case"u":var o=e.substring(t+1,t+5);Eb.test(o)||this.parseError("Illegal escape sequence: \\u"+o),r+=String.fromCharCode(parseInt(o,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++t;var s=e.indexOf("\\",t);r+=e.substring(t,s<0?e.length:s),t=s}return r};ce.prototype.isComment=function(){var e=this.expression.charAt(this.pos);return e==="/"&&this.expression.charAt(this.pos+1)==="*"?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1};ce.prototype.isRadixInteger=function(){var e=this.pos;if(e>=this.expression.length-2||this.expression.charAt(e)!=="0")return!1;++e;var t,r;if(this.expression.charAt(e)==="x")t=16,r=/^[0-9a-f]$/i,++e;else if(this.expression.charAt(e)==="b")t=2,r=/^[01]$/i,++e;else return!1;for(var n=!1,o=e;e<this.expression.length;){var s=this.expression.charAt(e);if(r.test(s))e++,n=!0;else break}return n&&(this.current=this.newToken(tu,parseInt(this.expression.substring(o,e),t)),this.pos=e),n};ce.prototype.isNumber=function(){for(var e=!1,t=this.pos,r=t,n=t,o=!1,s=!1,i;t<this.expression.length&&(i=this.expression.charAt(t),i>="0"&&i<="9"||!o&&i===".");)i==="."?o=!0:s=!0,t++,e=s;if(e&&(n=t),i==="e"||i==="E"){t++;for(var a=!0,c=!1;t<this.expression.length;){if(i=this.expression.charAt(t),a&&(i==="+"||i==="-"))a=!1;else if(i>="0"&&i<="9")c=!0,a=!1;else break;t++}c||(t=n)}return e?(this.current=this.newToken(tu,parseFloat(this.expression.substring(r,t))),this.pos=t):this.pos=n,e};ce.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if(t==="+"||t==="-"||t==="*"||t==="/"||t==="%"||t==="^"||t==="?"||t===":"||t===".")this.current=this.newToken(te,t);else if(t==="\u2219"||t==="\u2022")this.current=this.newToken(te,"*");else if(t===">")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(te,">="),this.pos++):this.current=this.newToken(te,">");else if(t==="<")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(te,"<="),this.pos++):this.current=this.newToken(te,"<");else if(t==="|")if(this.expression.charAt(this.pos+1)==="|")this.current=this.newToken(te,"||"),this.pos++;else return!1;else if(t==="=")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(te,"=="),this.pos++):this.current=this.newToken(te,t);else if(t==="!")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(te,"!="),this.pos++):this.current=this.newToken(te,t);else return!1;return this.pos++,this.isOperatorEnabled(this.current.value)?!0:(this.pos=e,!1)};ce.prototype.isOperatorEnabled=function(e){return this.parser.isOperatorEnabled(e)};ce.prototype.getCoordinates=function(){var e=0,t,r=-1;do e++,t=this.pos-r,r=this.expression.indexOf(`
`,r+1);while(r>=0&&r<this.pos);return{line:e,column:t}};ce.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)};function ne(e,t,r){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=r.allowMemberAccess!==!1}ne.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()};ne.prototype.tokenMatches=function(e,t){return typeof t>"u"?!0:Array.isArray(t)?_o(t,e.value):typeof t=="function"?t(e):e.value===t};ne.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()};ne.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken};ne.prototype.accept=function(e,t){return this.nextToken.type===e&&this.tokenMatches(this.nextToken,t)?(this.next(),!0):!1};ne.prototype.expect=function(e,t){if(!this.accept(e,t)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(t||e))}};ne.prototype.parseAtom=function(e){var t=this.tokens.unaryOps;function r(o){return o.value in t}if(this.accept(Kf)||this.accept(te,r))e.push(new G(er,this.current.value));else if(this.accept(tu))e.push(new G(st,this.current.value));else if(this.accept(Yh))e.push(new G(st,this.current.value));else if(this.accept(tr,"("))this.parseExpression(e),this.expect(tr,")");else if(this.accept(qo,"["))if(this.accept(qo,"]"))e.push(new G(jo,0));else{var n=this.parseArrayList(e);e.push(new G(jo,n))}else throw new Error("unexpected "+this.nextToken)};ne.prototype.parseExpression=function(e){var t=[];this.parseUntilEndStatement(e,t)||(this.parseVariableAssignmentExpression(t),!this.parseUntilEndStatement(e,t)&&this.pushExpression(e,t))};ne.prototype.pushExpression=function(e,t){for(var r=0,n=t.length;r<n;r++)e.push(t[r])};ne.prototype.parseUntilEndStatement=function(e,t){return this.accept(Yf)?(this.nextToken&&this.nextToken.type!==ri&&!(this.nextToken.type===tr&&this.nextToken.value===")")&&t.push(new G(Qc)),this.nextToken.type!==ri&&this.parseExpression(t),e.push(new G(De,t)),!0):!1};ne.prototype.parseArrayList=function(e){for(var t=0;!this.accept(qo,"]");)for(this.parseExpression(e),++t;this.accept(ru);)this.parseExpression(e),++t;return t};ne.prototype.parseVariableAssignmentExpression=function(e){for(this.parseConditionalExpression(e);this.accept(te,"=");){var t=e.pop(),r=[],n=e.length-1;if(t.type===Do){if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,s=t.value+1;o<s;o++){var i=n-o;e[i].type===er&&(e[i]=new G(gn,e[i].value))}this.parseVariableAssignmentExpression(r),e.push(new G(De,r)),e.push(new G(Xc,t.value));continue}if(t.type!==er&&t.type!==wn)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),e.push(new G(gn,t.value)),e.push(new G(De,r)),e.push(rr("="))}};ne.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(te,"?");){var t=[],r=[];this.parseConditionalExpression(t),this.expect(te,":"),this.parseConditionalExpression(r),e.push(new G(De,t)),e.push(new G(De,r)),e.push(Zh("?"))}};ne.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(te,"or");){var t=[];this.parseAndExpression(t),e.push(new G(De,t)),e.push(rr("or"))}};ne.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(te,"and");){var t=[];this.parseComparison(t),e.push(new G(De,t)),e.push(rr("and"))}};var Ab=["==","!=","<","<=",">=",">","in"];ne.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(te,Ab);){var t=this.current;this.parseAddSub(e),e.push(rr(t.value))}};var Tb=["+","-","||"];ne.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(te,Tb);){var t=this.current;this.parseTerm(e),e.push(rr(t.value))}};var Ib=["*","/","%"];ne.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(te,Ib);){var t=this.current;this.parseFactor(e),e.push(rr(t.value))}};ne.prototype.parseFactor=function(e){var t=this.tokens.unaryOps;function r(o){return o.value in t}if(this.save(),this.accept(te,r)){if(this.current.value!=="-"&&this.current.value!=="+"){if(this.nextToken.type===tr&&this.nextToken.value==="("){this.restore(),this.parseExponential(e);return}else if(this.nextToken.type===Yf||this.nextToken.type===ru||this.nextToken.type===ri||this.nextToken.type===tr&&this.nextToken.value===")"){this.restore(),this.parseAtom(e);return}}var n=this.current;this.parseFactor(e),e.push(eu(n.value))}else this.parseExponential(e)};ne.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(te,"^");)this.parseFactor(e),e.push(rr("^"))};ne.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(te,"!");)e.push(eu("!"))};ne.prototype.parseFunctionCall=function(e){var t=this.tokens.unaryOps;function r(s){return s.value in t}if(this.accept(te,r)){var n=this.current;this.parseAtom(e),e.push(eu(n.value))}else for(this.parseMemberExpression(e);this.accept(tr,"(");)if(this.accept(tr,")"))e.push(new G(Do,0));else{var o=this.parseArgumentList(e);e.push(new G(Do,o))}};ne.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(tr,")");)for(this.parseExpression(e),++t;this.accept(ru);)this.parseExpression(e),++t;return t};ne.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(te,".")||this.accept(qo,"[");){var t=this.current;if(t.value==="."){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(Kf),e.push(new G(wn,this.current.value))}else if(t.value==="["){if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(e),this.expect(qo,"]"),e.push(rr("["))}else throw new Error("unexpected symbol: "+t.value)}};function Bb(e,t){return Number(e)+Number(t)}function Pb(e,t){return e-t}function Sb(e,t){return e*t}function kb(e,t){return e/t}function Cb(e,t){return e%t}function Rb(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):""+e+t}function Mb(e,t){return e===t}function Nb(e,t){return e!==t}function $b(e,t){return e>t}function zb(e,t){return e<t}function Ob(e,t){return e>=t}function Fb(e,t){return e<=t}function Hb(e,t){return!!(e&&t)}function Ub(e,t){return!!(e||t)}function Lb(e,t){return _o(t,e)}function _b(e){return(Math.exp(e)-Math.exp(-e))/2}function Db(e){return(Math.exp(e)+Math.exp(-e))/2}function jb(e){return e===1/0?1:e===-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function qb(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))}function Gb(e){return Math.log(e+Math.sqrt(e*e-1))}function Vb(e){return Math.log((1+e)/(1-e))/2}function Dh(e){return Math.log(e)*Math.LOG10E}function Wb(e){return-e}function Zb(e){return!e}function Kb(e){return e<0?Math.ceil(e):Math.floor(e)}function Yb(e){return Math.random()*(e||1)}function jh(e){return Jf(e+1)}function Jb(e){return isFinite(e)&&e===Math.round(e)}var Xb=4.7421875,jf=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Jf(e){var t,r;if(Jb(e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(var n=e-2,o=e-1;n>1;)o*=n,n--;return o===0&&(o=1),o}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Jf(1-e));if(e>=171.35)return 1/0;if(e>85){var s=e*e,i=s*e,a=i*e,c=a*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*s)-139/(51840*i)-571/(2488320*a)+163879/(209018880*c)+5246819/(75246796800*c*e))}--e,r=jf[0];for(var u=1;u<jf.length;++u)r+=jf[u]/(e+u);return t=e+Xb+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*r}function Qb(e){return Array.isArray(e)?e.length:String(e).length}function qh(){for(var e=0,t=0,r=0;r<arguments.length;r++){var n=Math.abs(arguments[r]),o;t<n?(o=t/n,e=e*o*o+1,t=n):n>0?(o=n/t,e+=o*o):e+=n}return t===1/0?1/0:t*Math.sqrt(e)}function Gh(e,t,r){return e?t:r}function eg(e,t){return typeof t>"u"||+t==0?Math.round(e):(e=+e,t=-+t,isNaN(e)||!(typeof t=="number"&&t%1===0)?NaN:(e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+t:t))))}function tg(e,t,r){return r&&(r[e]=t),t}function rg(e,t){return e[t|0]}function ng(e){return arguments.length===1&&Array.isArray(e)?Math.max.apply(Math,e):Math.max.apply(Math,arguments)}function og(e){return arguments.length===1&&Array.isArray(e)?Math.min.apply(Math,e):Math.min.apply(Math,arguments)}function sg(e,t){if(typeof e!="function")throw new Error("First argument to map is not a function");if(!Array.isArray(t))throw new Error("Second argument to map is not an array");return t.map(function(r,n){return e(r,n)})}function ig(e,t,r){if(typeof e!="function")throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce(function(n,o,s){return e(n,o,s)},t)}function ag(e,t){if(typeof e!="function")throw new Error("First argument to filter is not a function");if(!Array.isArray(t))throw new Error("Second argument to filter is not an array");return t.filter(function(r,n){return e(r,n)})}function cg(e,t){if(!(Array.isArray(t)||typeof t=="string"))throw new Error("Second argument to indexOf is not a string or array");return t.indexOf(e)}function ug(e,t){if(!Array.isArray(t))throw new Error("Second argument to join is not an array");return t.join(e)}function fg(e){return(e>0)-(e<0)||+e}var Vh=1/3;function pg(e){return e<0?-Math.pow(-e,Vh):Math.pow(e,Vh)}function mg(e){return Math.exp(e)-1}function dg(e){return Math.log(1+e)}function lg(e){return Math.log(e)/Math.LN2}function Or(e){this.options=e||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||_b,cosh:Math.cosh||Db,tanh:Math.tanh||jb,asinh:Math.asinh||qb,acosh:Math.acosh||Gb,atanh:Math.atanh||Vb,sqrt:Math.sqrt,cbrt:Math.cbrt||pg,log:Math.log,log2:Math.log2||lg,ln:Math.log,lg:Math.log10||Dh,log10:Math.log10||Dh,expm1:Math.expm1||mg,log1p:Math.log1p||dg,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||Kb,"-":Wb,"+":Number,exp:Math.exp,not:Zb,length:Qb,"!":jh,sign:Math.sign||fg},this.binaryOps={"+":Bb,"-":Pb,"*":Sb,"/":kb,"%":Cb,"^":Math.pow,"||":Rb,"==":Mb,"!=":Nb,">":$b,"<":zb,">=":Ob,"<=":Fb,and:Hb,or:Ub,in:Lb,"=":tg,"[":rg},this.ternaryOps={"?":Gh},this.functions={random:Yb,fac:jh,min:og,max:ng,hypot:Math.hypot||qh,pyt:Math.hypot||qh,pow:Math.pow,atan2:Math.atan2,if:Gh,gamma:Jf,roundTo:eg,map:sg,fold:ig,filter:ag,indexOf:cg,join:ug},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Or.prototype.parse=function(e){var t=[],r=new ne(this,new ce(this,e),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(t),r.expect(ri,"EOF"),new wt(t,this)};Or.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var Xh=new Or;Or.parse=function(e){return Xh.parse(e)};Or.evaluate=function(e,t){return Xh.parse(e).evaluate(t)};var Wh={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function hg(e){return Wh.hasOwnProperty(e)?Wh[e]:e}Or.prototype.isOperatorEnabled=function(e){var t=hg(e),r=this.options.operators||{};return!(t in r)||!!r[t]};var xg="https://app.rives.io",Xf=20;function yg(e){return e.startsWith("0x")?e.slice(2,2+2*Xf):e.slice(0,2*Xf)}function bg(e){return`0x${yg(e)}${"0".repeat(2*(32-Xf))}`}function e0(e,t){return e.length!=42||!Q(e)||t.length!=40?"":Ls(`${e}${t}`).slice(2)}function gg(e,t){let n=new Or().parse(e),o=new TextDecoder("utf-8");if(n&&o.decode(t.slice(0,4))=="JSON"){let s=o.decode(t),i=JSON.parse(s.substring(4));return n.evaluate(i)}return 0}var wg="core.register_external_verification",Qh="bytes32,bytes32,bytes,int,bytes32[],bytes";function t0(e,t){if(!t.rivemuOnFinish||!e)return"0x";let r=gg(e.score_function,t.outcard),n=Ie(mi(Qh),[bg(e.id),`0x${t.outhash}`,$(t.tape),BigInt(r),[],"0x"]);return`0x${It(`${wg}(${Qh})`).replace("0x","")}${n.replace("0x","")}`}async function r0(e){let r=await(await fetch(`${xg}/inspect/core/rules?id=${e}`)).json();return r.status!="Accepted"||r.reports.length==0?null:JSON.parse(ir(r.reports[0].payload,"string")).data[0]}function Qf(e){let t=document.getElementById("emulator-iframe");if(t){let r=`${tp}/#cartridge=${op}/${e.cartridgeId}`;e.simple&&(r+=`&simple=${e.simple}`),e.autoplay&&(r+=`&autoplay=${e.autoplay}`),e.tapeId&&(r+=`&fullTape=${sp}/${e.tapeId}`),e.args&&(r+=`&args=${e.args}`),e.incardUrl&&(r+=`&incard=${e.incardUrl}`),e.entropy&&(r+=`&entropy=${e.entropy}`),t.src=r}}function v7(){Qf({cartridgeId:ni,simple:!0})}function E7(){Qf({cartridgeId:ni,tapeId:rp,autoplay:!0})}async function A7(){let e=document.getElementById("connect-msg"),t=await r0(np);if(!t){console.error("Error loading contest");return}let r,n;try{if(r=await Uh(ip),!r)throw new Error("Error connecting wallet");let[s]=await r.requestAddresses();n=s}catch(s){let i=s.message;console.error(),e&&(e.innerHTML=i);return}e&&(e.innerHTML=`Connected with ${n.substring(0,6)}...${n.substring(n.length-4,n.length)} on ${r.chain.name}`);let o=e0(n,t.id);window.addEventListener("message",s=>{let i=s.data;if(i.rivemuOnFinish){let a=document.getElementById("submit-msg");a&&(a.innerHTML="");let c=t0(t,i);Lh(r,c).then(()=>{a&&(a.innerHTML="Gameplay submitted;")}).catch(u=>{console.log(u),a&&(a.innerHTML=u.message)})}},!1),Qf({cartridgeId:ni,simple:!0,args:t.args,entropy:o})}export{v7 as setupPlay,E7 as setupReplay,A7 as setupSubmit};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

expr-eval/dist/index.mjs:
  (*!
   Based on ndef.parser, by Raphael Graf(r@undefined.ch)
   http://www.undefined.ch/mparser/index.html
  
   Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)
  
   You are free to use and modify this code in anyway you find useful. Please leave this comment in the code
   to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,
   but don't feel like you have to let me know or ask permission.
  *)
*/
